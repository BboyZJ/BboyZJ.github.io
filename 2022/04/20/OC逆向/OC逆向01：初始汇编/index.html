<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="Hexo Theme Redefine">
    <meta name="description" content="我是小J，关注我">
    <meta name="author" content="张建">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-redefine.png">
    <!--- Seo Part-->
    
    <link rel="canonical" href="https://www.bboyzj.cn/2022/04/20/oc逆向/oc逆向01：初始汇编/"/>
    <meta name="robots" content="index,follow">
    <meta name="googlebot" content="index,follow">
    <meta name="revisit-after" content="1 days">
    <meta property="og:type" content="article">
    <meta property="og:title" content="OC逆向01：初始汇编">
    <meta property="og:description" content="我是小J，关注我">
    <meta property="og:url" content="https://www.bboyzj.cn2022/04/20/OC逆向/OC逆向01：初始汇编/">
    <meta property="og:image" content="/images/redefine-logo.svg">
    <meta property="og:site_name" content="BboyZJ">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="OC逆向01：初始汇编">
    <meta name="twitter:description" content="我是小J，关注我">
    <meta name="twitter:image" content="/images/redefine-logo.svg">
    <!--- Icon Part-->
    <link rel="icon" type="image/png" href="/images/redefine-logo.svg" sizes="192x192">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/redefine-logo.svg">
    <meta name="theme-color" content="#005080">
    <link rel="shortcut icon" href="/BboyZJ.github.io/images/redefine-logo.svg">
    
    <title>
        
            OC逆向01：初始汇编 -
        
        BboyZJ
    </title>
    
<link rel="stylesheet" href="/BboyZJ.github.io/css/style.css">

    
<link rel="stylesheet" href="/BboyZJ.github.io/assets/fonts.css">

    
    
    
    
    <script id="hexo-configurations">
    let REDEFINE = window.REDEFINE || {};
    REDEFINE.hexo_config = {"hostname":"www.bboyzj.cn","root":"/BboyZJ.github.io/","language":"en","path":"search.xml"};
    REDEFINE.theme_config = {"toc":{"enable":true,"number":false,"expand_all":true,"init_open":true},"style":{"primary_color":"#005080","avatar":"/images/head_img.svg","favicon":"/images/redefine-logo.svg","article_img_align":"center","right_side_width":"210px","content_max_width":"1000px","nav_color":{"left":"#f78736","right":"#367df7","transparency":35},"hover":{"shadow":true,"scale":false},"first_screen":{"enable":true,"background_image":{"light":"https://evan.beee.top/img/wallhaven-wqery6-light.webp","dark":"https://evan.beee.top/img/wallhaven-wqery6-dark.webp"},"title_color":{"light":"#fff","dark":"#d1d1b6"},"description":"学无止境 学而不思则罔 思而不学则殆","custom_font":{"enable":false,"font_family":null,"font_url":null}},"scroll":{"progress_bar":{"enable":true},"percent":{"enable":false}}},"local_search":{"enable":true,"preload":true},"code_block":{"copy":true,"style":"mac","custom_font":{"enable":false,"font_family":null,"font_url":null}},"pjax":{"enable":true},"lazyload":{"enable":false},"version":"1.1.5","friend_links":{"columns":2},"home_article":{"date_format":"auto","category":{"enable":true,"limit":3},"tag":{"enable":true,"limit":3}},"plugins":{"aplayer":{"enable":false,"audio":[{"name":null,"artist":null,"url":null,"cover":null},{"name":null,"artist":null,"url":null,"cover":null}]}}};
    REDEFINE.language_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"};
  </script>
    
    
<link rel="stylesheet" href="/BboyZJ.github.io/fontawesome/fontawesome.min.css">

    
<link rel="stylesheet" href="/BboyZJ.github.io/fontawesome/brands.min.css">

    
<link rel="stylesheet" href="/BboyZJ.github.io/fontawesome/solid.min.css">

    
<link rel="stylesheet" href="/BboyZJ.github.io/fontawesome/regular.min.css">

    
    
    
<meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/BboyZJ.github.io/atom.xml" title="张建的博客" type="application/atom+xml">
</head>


<body>
<div class="progress-bar-container">
    
        <span class="scroll-progress-bar"></span>
    

    
        <span class="pjax-progress-bar"></span>
        <span class="pjax-progress-icon">
            <i class="fa-solid fa-circle-notch fa-spin"></i>
        </span>
    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            <header class="menu-wrapper">
    
    <div class="menu-content">
        <div class="left">
            
            <a class="logo-title" href="/">
                
                BboyZJ
                
            </a>
        </div>

        <div class="right">
            <!-- PC -->
            <div class="pc">
                <ul class="menu-list">
                    
                        
                            <li class="menu-item">
                                <!-- Menu -->
                                <a class="" 
                                    href="/BboyZJ.github.io/"  >
                                    
                                        
                                            <i class="fa-regular fa-house"></i>
                                        
                                        首页
                                    
                                </a>
                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            <li class="menu-item">
                                <!-- Menu -->
                                <a class="" 
                                    href="/BboyZJ.github.io/tags/"  >
                                    
                                        
                                            <i class="fa-regular fa-tags"></i>
                                        
                                        标签
                                    
                                </a>
                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            <li class="menu-item">
                                <!-- Menu -->
                                <a class="" 
                                    href="/BboyZJ.github.io/categories/"  >
                                    
                                        
                                            <i class="fa-regular fa-categories"></i>
                                        
                                        分类
                                    
                                </a>
                                <!-- Submenu -->
                                
                            </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="fa-solid fa-magnifying-glass"></i>
                        </li>
                    
                </ul>
            </div>
            <!-- Mobile -->
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fa-solid fa-magnifying-glass"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile drawer -->
    <div class="menu-drawer">
        <ul class="drawer-menu-list">
            
                
                    <li class="drawer-menu-item flex-center">
                        <a class="" 
                        href="/BboyZJ.github.io/"  >
                             
                                
                                    <i class="fa-regular fa-house"></i>
                                
                                首页
                            
                        </a>
                    </li>
                    <!-- Submenu -->
                    
            
                
                    <li class="drawer-menu-item flex-center">
                        <a class="" 
                        href="/BboyZJ.github.io/tags/"  >
                             
                                
                                    <i class="fa-regular fa-tags"></i>
                                
                                标签
                            
                        </a>
                    </li>
                    <!-- Submenu -->
                    
            
                
                    <li class="drawer-menu-item flex-center">
                        <a class="" 
                        href="/BboyZJ.github.io/categories/"  >
                             
                                
                                    <i class="fa-regular fa-categories"></i>
                                
                                分类
                            
                        </a>
                    </li>
                    <!-- Submenu -->
                    
            

        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="post-page-container">
        <div class="article-content-container">

            
            
                <div class="article-title">
                    <h1 class="article-title-regular">OC逆向01：初始汇编</h1>
                </div>
            
                
            

            
                <div class="article-header">
                    <div class="avatar">
                        <img src="/BboyZJ.github.io/images/head_img.svg">
                    </div>
                    <div class="info">
                        <div class="author">
                            <span class="name">张建</span>
                            
                                <span class="author-label">lol</span>
                            
                        </div>
                        <div class="meta-info">
                            <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fa-regular fa-pen-fancy"></i>&nbsp;
        <span class="pc">2022-04-20 15:50:53</span>
        <span class="mobile">2022-04-20 15:50</span>
        <span class="hover-info">Created</span>
    </span>
    
        <span class="article-date article-meta-item">
            <i class="fa-regular fa-wrench"></i>&nbsp;
            <span class="pc">2022-04-29 09:15:48</span>
            <span class="mobile">2022-04-29 09:15</span>
            <span class="hover-info">Updated</span>
        </span>
    

    
        <span class="article-categories article-meta-item">
            <i class="fa-regular fa-folders"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/BboyZJ.github.io/categories/OC-%E9%80%86%E5%90%91%E6%8E%A2%E7%B4%A2%E7%AF%87/">OC-逆向探索篇</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fa-regular fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/BboyZJ.github.io/tags/iOS-OC/">iOS-OC</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
    
    
        <span class="article-pv article-meta-item">
            <i class="fa-regular fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

                        </div>
                    </div>
                </div>
            

            <div class="article-content markdown-body">
                <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>在逆向开发中，非常重要的一个环节就是 <code>静态分析</code>，众所周知，手机上安装 <code>APP</code> 其本质是一个 <code>二进制文件</code>，因为iPhone手机本质上执行的指令是二进制，是由手机上的 <code>CPU</code> 执行的；而静态分析是建立在分析二进制上面的。所以在学习逆向之前，需要提前了解相关的汇编知识</p>
<h1 id="汇编语言的发展"><a href="#汇编语言的发展" class="headerlink" title="汇编语言的发展"></a>汇编语言的发展</h1><h2 id="机器语言"><a href="#机器语言" class="headerlink" title="机器语言"></a>机器语言</h2><p>是由 <code>0和1</code> 组成的机器指令，表示特定的功能，如下所示：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">加：0100 0000</span><br><span class="line">减：0100 1000</span><br><span class="line">乘：1111 0111 1110 0000</span><br><span class="line">除：1111 0111 1111 0000</span><br></pre></td></tr></table></figure></div>

<h2 id="汇编语言（assembly-language）"><a href="#汇编语言（assembly-language）" class="headerlink" title="汇编语言（assembly language）"></a>汇编语言（assembly language）</h2><p>由于使用机器语言表示时不方便记忆，于是开始使用 <code>助记符</code> 来代替机器语言，例如下面使用助记符表示的 <code>加减乘除</code></p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">加：INC EAX 通过编译器 0100 0000</span><br><span class="line">减：DEC EAX 通过编译器 0100 1000</span><br><span class="line">乘：MUL EAX 通过编译器 1111 0111 1110 0000</span><br><span class="line">除：DIV EAX 通过编译器 1111 0111 1111 0000</span><br></pre></td></tr></table></figure></div>

<h2 id="高级语言（High-level-programming-language）"><a href="#高级语言（High-level-programming-language）" class="headerlink" title="高级语言（High-level programming language）"></a>高级语言（High-level programming language）</h2><p>在后期，为了更加高效的编程，在汇编语言的基础上有了更高级的语言，例如：<br><code>C/C++/Java/OC/Swift</code> 等，这些语言更加接近人类的自然语言，例如C语言表示加减乘除</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">加：A+B 通过编译器 0100 0000</span><br><span class="line">减：A-B 通过编译器 0100 1000</span><br><span class="line">乘：A*B 通过编译器 1111 0111 1110 0000</span><br><span class="line">除：A/B 通过编译器 1111 0111 1111 0000</span><br></pre></td></tr></table></figure></div>

<p>最终的代码在终端设备上显示的过程如下：</p>
<p><img src="https://user-images.githubusercontent.com/25925248/165726946-adfbee49-d243-4a8d-bb37-e62e6defcc52.jpg"></p>
<p><strong>【说明】：</strong></p>
<ul>
<li><p><code>汇编语言</code> 与 <code>机器语言</code> 是 <code>--对应</code> 的关系，每一条机器指令都有与之对应的汇编指令</p>
</li>
<li><p><code>汇编语言</code> 可以通过 <code>编译</code> 得到 <code>机器语言</code>，<code>机器语言</code> 可以通过 <code>反编译</code> 得到 <code>汇编语言</code></p>
</li>
<li><p><code>高级语言</code> 可以通过 <code>编译</code> 得到 <code>汇编语言/机器语言</code>，但 <code>汇编汇演/机器语言</code> 几乎不可能还原成高级语言</p>
<ul>
<li>不同的 <code>高级语言</code> 可以得到 <code>同样的</code> 汇编语言，但是同一个 <code>汇编语言</code> 无法推断出用什么高级语言</li>
<li>不同的 <code>CPU架构</code>，而CPU架构对应不同的 <code>指令集</code></li>
</ul>
</li>
</ul>
<h2 id="汇编语言的特点"><a href="#汇编语言的特点" class="headerlink" title="汇编语言的特点"></a>汇编语言的特点</h2><p>汇编语言主要有以下几个特点：</p>
<ul>
<li>可以 <code>直接访问、控制</code> 各种硬件设备，比如 <code>存储器、CPU等</code>，能最大限度地发挥硬件的功能</li>
<li>能够不受编译器的限制，对生成的二进制代码进行完全的控制</li>
<li>目标代码简短，占用内存少，执行速度快</li>
<li>汇编指令是机器指令的 <code>助记符</code>，同机器指令一一对应，每一种CPU都有自己的机器指令&#x2F;汇编指令集</li>
<li>知识点过多，要求过高，需要开发者对CPU等硬件结构有所了解，不易于编写、调式，以及维护</li>
<li>不区分大小写，例如mov和MOV是一样的</li>
</ul>
<h1 id="汇编语言的用途（哥-我学了能干啥？）"><a href="#汇编语言的用途（哥-我学了能干啥？）" class="headerlink" title="汇编语言的用途（哥 我学了能干啥？）"></a>汇编语言的用途（哥 我学了能干啥？）</h1><p>按理说，汇编这么难，为什么还要学呢？以及学了能干什么？</p>
<h2 id="汇编学习的目的"><a href="#汇编学习的目的" class="headerlink" title="汇编学习的目的"></a>汇编学习的目的</h2><p>任何高级语言最终都会被编译汇编，学习了汇编的相关知识，可以更好的日常开发，学习探索中帮助我们更好的排查问，理解底层运行的机制，大致分为以下几点：</p>
<ul>
<li><p>是理解整个计算机系统的最佳起点和最有效途径</p>
</li>
<li><p>为编写高效代码打下基础</p>
</li>
<li><p>理解代码的本质，例如：</p>
<ul>
<li>函数的本质是什么？</li>
<li>++a底层是如何执行的？</li>
<li>编译器在底层到底帮我们做了哪些工作？</li>
<li>DEBUG模式和RELEASE模式到底有哪些地方是不同的？以及被我们忽略的？</li>
</ul>
</li>
</ul>
<h2 id="汇编使用的场景"><a href="#汇编使用的场景" class="headerlink" title="汇编使用的场景"></a>汇编使用的场景</h2><ul>
<li><p>可以 <code>编写驱动程序、操作系统</code>，例如Linux内核的某些关键字</p>
</li>
<li><p>对性能要求极高的程序或代码片段，可 <code>与高级语言混合使用（称为内联汇编）</code></p>
</li>
<li><p>用于 <code>软件安全方面</code></p>
<ul>
<li>病毒的分析与防治</li>
<li>逆向、加壳、脱壳、破解、外挂、免杀、加解密、黑客等</li>
</ul>
</li>
</ul>
<p>所以综上所述，汇编时所有👨🏻‍💻都需要了解的一门非常重要的语言，这也是为什么大学生中计算机相关专业学生的必修课，就好比修房子，地基稳了，高楼才能平地起</p>
<h1 id="汇编语言的种类"><a href="#汇编语言的种类" class="headerlink" title="汇编语言的种类"></a>汇编语言的种类</h1><p>目前讨论比较多的汇编语言有：</p>
<ul>
<li>8086汇编（8086处理器是16bit的CPU）</li>
<li>Win32汇编</li>
<li>Win64汇编</li>
<li>ARM汇编（嵌入式、Mac、iOS）</li>
<li>…</li>
</ul>
<p>我们iPhone里面用到的是 <code>ARM汇编</code>，但是不同的设备也有差异，因CPU的架构不同</p>
<p><img src="https://user-images.githubusercontent.com/25925248/165726987-fa4840c7-6978-48ef-9019-1d7fbc6ab5e8.jpg"></p>
<h1 id="必备常识"><a href="#必备常识" class="headerlink" title="必备常识"></a>必备常识</h1><p>想要学好汇编，需要有以下几个常识：</p>
<ul>
<li><p>1、首先需要了解CPU等硬件的架构</p>
</li>
<li><p>2、APP&#x2F;程序的执行过程</p>
</li>
</ul>
<p><img src="https://user-images.githubusercontent.com/25925248/165727016-89a9e54f-7e6f-498a-af9c-91671afafabb.jpg"></p>
<ul>
<li><p>可执行文件：程序&#x2F;APP在本地磁盘的文件</p>
</li>
<li><p>image（镜像文件）：可执行文件被装载到内存的文件（在早起，其本质与可执行文件是一模一样的）</p>
</li>
<li><p>内存中除了 <code>指令</code>，还有 <code>数据</code>，但都是 <code>0和1</code> 组合，CPU是如何区分的？是通过CPU上的部件CPU寄存器来区分</p>
</li>
<li><p>3、硬件相关最为重要的是CPU&#x2F;内存</p>
</li>
<li><p>4、在汇编中，大部分指令都是和CPU和内存相关的</p>
</li>
</ul>
<h1 id="总线"><a href="#总线" class="headerlink" title="总线"></a>总线</h1><p><code>总线</code> 是CPU和内存之间的桥梁，如下图所示，是iPhoneX上的A11（CPU芯片）</p>
<p><img src="https://user-images.githubusercontent.com/25925248/165727050-704e6232-9383-4214-b339-64ca301512ab.jpg"></p>
<p>从图中可以看出：每一个CPU芯片都有很多管脚，这些管脚和总线相连，CPU通过总线跟外部件进行交互</p>
<p><strong>总线</strong>：是一根根导线的集合</p>
<h2 id="总线的分类"><a href="#总线的分类" class="headerlink" title="总线的分类"></a>总线的分类</h2><p>总线主要分为三类，如下图所示：</p>
<p><img src="https://user-images.githubusercontent.com/25925248/165727076-6628e0ee-661b-4516-91bd-ef8524869e8c.jpg"></p>
<ul>
<li>1、地址总线：CPU是通过地址总线来指定存储单元的</li>
<li>2、数据总线：CPU与内存&#x2F;其他部件之间的数据传送通道</li>
<li>3、控制总线：CPU通过控制总线对外部器件进行控制</li>
</ul>
<p><strong>举例：CPU从内存的3号单元读取数据</strong></p>
<p><img src="https://user-images.githubusercontent.com/25925248/165727600-b2d0129f-b2cc-4bae-851f-8a6f8b9ffd05.jpg"></p>
<ul>
<li><p>1、CPU想操作内存中的数据，首先需要找到内存地址：CPU通过地址总线，将3这个地址传递给内存你，即寻址到内存的3号单元</p>
</li>
<li><p>2、需要操作3号单元的数据，还需要确定是读还是写：CPU通过控制总线告诉内存需要进行的操作，假设是读</p>
</li>
<li><p>3、内存知道了CPU想要进行的操作：内存将3号单元的数据通过数据线传递给CPU</p>
</li>
</ul>
<h2 id="地址总线"><a href="#地址总线" class="headerlink" title="地址总线"></a>地址总线</h2><ul>
<li><p>它的宽度决定了 <code>CPU的寻址能力</code>，即地址总线决定了CPU所能访问的最大内存空间的大小，例如：<code>10根地址线</code> 能访问的最大内存是 <code>2^10 = 1024</code> 位二进制数据（即 <code>1KB</code> ）</p>
</li>
<li><p>地址总线是地址线数量之和</p>
</li>
<li><p><code>8086</code> 的 <strong><code>地址总线</code></strong> 宽度是 <code>20</code>，所以寻址能力是 <code>1M（即2^20）</code></p>
</li>
<li><p>内存地址的单元是 <code>字节byte（简写B）</code>，每个字节里面可以放 <code>8位（即bit）</code>，以下是内存条的图示：</p>
</li>
</ul>
<p><img src="https://user-images.githubusercontent.com/25925248/165727689-82a153ce-e0e0-46e6-873e-4b8391829fd8.jpg"></p>
<p><strong>注意区分 <code>数量单位</code> 和 <code>容量单位</code></strong></p>
<ul>
<li>数量单位：<code>1M = 1024K，1K = 1024</code></li>
<li>容量单位：字节byte（B） <code>1024B = 1KB，1024KB = 1MB</code>，IBM银行的独立系统是以2字节为一个单位，常用的电脑是以1字节为一个单位</li>
<li>网络宽带 <code>100M=100Mbps</code>（比特位，每秒传输 <code>100/8 = 12.5MB/s</code>）</li>
</ul>
<h2 id="数据总线"><a href="#数据总线" class="headerlink" title="数据总线"></a>数据总线</h2><ul>
<li><p>它的宽度决定了 <code>CPU的单次数据传送量（即吞吐量）</code>，也就是 <code>数据传送速度</code> 即CPU和外界数据的传送速度</p>
</li>
<li><p>每条数据线一次只能传输一位二进制数据，例如：<code>8根</code> 数据线 <code>一次</code> 可传送 <code>一个8位</code> 二进制数据（即一个字节的数据）</p>
</li>
<li><p>数据总线是数据线数量之和</p>
</li>
<li><p><code>8086</code> 的 <strong><code>数据总线</code></strong> 总宽度是 <code>16</code>，所以单次最大传送 <code>2个字节</code> 的数据</p>
</li>
</ul>
<p>我们常说的32位（4字节）、64位（8字节）CPU，这里的32、64指的就是数据吞吐量</p>
<h2 id="控制总线"><a href="#控制总线" class="headerlink" title="控制总线"></a>控制总线</h2><ul>
<li><p>它的宽度决定了 <code>CPU对其他器件的控制能力</code>，能有多少中控制，即CPU对外部器件的控制能力</p>
</li>
<li><p>控制总线是控制线数量之和</p>
</li>
</ul>
<h1 id="小练习"><a href="#小练习" class="headerlink" title="小练习"></a>小练习</h1><ul>
<li>一个CPU的寻址能力为8KB，那么它的地址总线的宽度为 2^13</li>
</ul>
<p>答：我们知道 10根 -&gt; 2^0 -&gt; 1KB，所以，8KB -&gt; 2^3 -&gt; 13根</p>
<h1 id="内存"><a href="#内存" class="headerlink" title="内存"></a>内存</h1><ul>
<li><p>CPU是通过 <code>总线</code> 和硬件设备连接的</p>
</li>
<li><p>内存有RAM主存储器、RAM主存储器（内存条）</p>
</li>
</ul>
<p><img src="https://user-images.githubusercontent.com/25925248/165727760-aa6b4190-5ca8-49ca-8a93-3254279f76c3.jpg"></p>
<ul>
<li>下图是按照物理地址划分的内存，有 <code>主存储器、显存地址、显卡地址、网卡地址、系统地址</code></li>
</ul>
<p><img src="https://user-images.githubusercontent.com/25925248/165727818-8b27a544-53af-4e32-8dd7-a58efab7788e.jpg"></p>
<p>其中内存中的 <code>低地址</code> 是给 <code>用户用的</code>，<code>高地址</code> 是给 <code>系统用的</code>，如下所示：</p>
<p><img src="https://user-images.githubusercontent.com/25925248/165727829-aad0e46e-ef9a-4e4f-9d70-410f147c85f8.jpg"></p>
<ul>
<li><p>内存地址空间的大小受CPU地址总线宽度的限制，8086的地址总线宽度为20，可以定位2^20个不同的内存单元（内存地址范围0x00000~0xFFFFF），所以8086的内存空间大小为1MB</p>
</li>
<li><p><code>0x00000~0x9FFFF</code>：主存储器，<code>可读可写</code></p>
</li>
<li><p><code>0xA0000~0xBFFFF</code>：向显存中写入数据，这些数据会被显卡输出到显示器，<code>可读可写</code></p>
</li>
<li><p><code>0xC0000~0xFFFFF</code>：存储各种硬件&#x2F;系统信息，<code>只读</code></p>
</li>
</ul>
<h1 id="进制"><a href="#进制" class="headerlink" title="进制"></a>进制</h1><p>很多人学不好进制，原因是总以十进制为依托去考虑其他进制，需要运算的时候也总是先转换为十进制，在转换为其他进制，其实这种方式是错的</p>
<p>我们为什么一定要转换成十进制呢？仅仅是因为我们对十进制最熟悉，所以才转换</p>
<p>每一种进制都是完美的，想学号进制首先要忘掉十进制，也要忘掉进制间的转换</p>
<h2 id="进制的定义"><a href="#进制的定义" class="headerlink" title="进制的定义"></a>进制的定义</h2><ul>
<li>八进制由8个符号组成：0 1 2 3 4 5 6 7 <code>逢八进一</code></li>
<li>十进制由10个符号组成：0 1 2 3 4 5 6 7 8 9 <code>逢十进一</code></li>
<li>N进制就是由N个符号组成：<code>逢N进一</code></li>
</ul>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--练习--&gt;</span><br><span class="line">1+1在___情况下等于3</span><br><span class="line"></span><br><span class="line">&lt;!--答案--&gt;</span><br><span class="line">十进制由10个符号组成: 0 1 3 2 8 A B E S 7 逢十进一</span><br><span class="line">如果这样定义十进制：1+1等于3</span><br><span class="line"></span><br><span class="line">&lt;!--目的--&gt;</span><br><span class="line">传统定义的十进制和自定义的十进制不一样，如果不告诉别人符号表，别人是无法拿到具体的数据的。这样的应用场景主要是用于加密</span><br></pre></td></tr></table></figure></div>

<h2 id="进制的运算"><a href="#进制的运算" class="headerlink" title="进制的运算"></a>进制的运算</h2><h3 id="八进制"><a href="#八进制" class="headerlink" title="八进制"></a>八进制</h3><p><strong>八进制加法表</strong></p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">0  1  2  3  4  5  6  7 </span><br><span class="line">10 11 12 13 14 15 16 17</span><br><span class="line">20 21 22 23 24 25 26 27</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">1+1 = 2                     </span><br><span class="line">1+2 = 3   2+2 = 4               </span><br><span class="line">1+3 = 4   2+3 = 5   3+3 = 6</span><br><span class="line">1+4 = 5   2+4 = 6   3+4 = 7   4+4 = 10  </span><br><span class="line">1+5 = 6   2+5 = 7   3+5 = 10  4+5 = 11  5+5 = 12</span><br><span class="line">1+6 = 7   2+6 = 10  3+6 = 11  4+6 = 12  5+6 = 13  6+6 =14</span><br><span class="line">1+7 = 10  2+7 = 11  3+7 = 12  4+7 = 13  5+7 = 14  6+7 =15  7+7 = 16</span><br></pre></td></tr></table></figure></div>

<p><strong>八进制乘法表</strong></p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">0 1 2 3 4 5 6 7 10 11 12 13 14 15 16 17 20 21 22 23 24 25 26 27...</span><br><span class="line">1*1 = 1                     </span><br><span class="line">1*2 = 2   2*2 = 4               </span><br><span class="line">1*3 = 3   2*3 = 6   3*3 = 11    </span><br><span class="line">1*4 = 4   2*4 = 10  3*4 = 14  4*4 = 20</span><br><span class="line">1*5 = 5   2*5 = 12  3*5 = 17  4*5 = 24  5*5 = 31</span><br><span class="line">1*6 = 6   2*6 = 14  3*6 = 22  4*6 = 30  5*6 = 36  6*6 = 44</span><br><span class="line">1*7 = 7   2*7 = 16  3*7 = 25  4*7 = 34  5*7 = 43  6*7 = 52  7*7 = 61</span><br></pre></td></tr></table></figure></div>

<p><strong>做个练习</strong></p>
<ul>
<li>2 + 3 &#x3D; ___，2 * 3 &#x3D; ___，4 + 5 &#x3D; ___，4 * 5 &#x3D; ___</li>
<li>277 + 333 &#x3D; ___，276 * 54 &#x3D; ___， 237 - 54 &#x3D; ___ ，234&#x2F;4 &#x3D; ___</li>
</ul>
<p>第一排的计算，我们可以很好的得出结论<br>但是第二排涉及数据较大，如何计算呢？下面以 <code>277 + 333</code> 为例，计算过程如下：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">实际上是以加法表为基本的每个位置相加</span><br><span class="line">   277      最后一位相加   倒数第二位相加    第一位相加</span><br><span class="line">+  333  -&gt;   7+3=12   -&gt;  7+3=12     -&gt;  2+3=5  -&gt; 所以最后的结果是632</span><br><span class="line">            保留2进1     保留2+1=3，进1    保留5+1=6</span><br></pre></td></tr></table></figure></div>

<h3 id="二进制"><a href="#二进制" class="headerlink" title="二进制"></a>二进制</h3><p><strong>二进制的简写形式</strong></p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">       二进制: 1 0 1 1 1 0 1 1 1 1 0 0</span><br><span class="line">三个二进制一组: 101 110 111 100</span><br><span class="line">       八进制:   5   6   7   4</span><br><span class="line">四个二进制一组: 1011 1011 1100</span><br><span class="line">     十六进制:    b    b    c</span><br></pre></td></tr></table></figure></div>

<p>使用二进制从0到1111：0000 0001 0010 0011 0100 0101 0110 0111 1000 1001 1010 1011 1100 1101 1110 1111</p>
<p>发现这样使用二进制太麻烦，所以将其改为更简单一点的符号</p>
<p>0 1 2 3 4 5 6 7 8 9 A B C D E F 这就是十六进制了</p>
<h1 id="数据的宽度"><a href="#数据的宽度" class="headerlink" title="数据的宽度"></a>数据的宽度</h1><p>数学上的数字是没有大小限制的，可以无限大</p>
<p>但是在计算机中，由于硬件的制约，数据都是有长度限制的（称为 <code>数据宽度</code>），超过最多宽度的数据会被丢弃</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#import &lt;UIKit/UIKit.h&gt;</span><br><span class="line">#import &quot;AppDelegate.h&quot;</span><br><span class="line"></span><br><span class="line">int test()&#123;</span><br><span class="line">    int cTemp = 0x1FFFFFFFF;</span><br><span class="line">    return cTemp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(int argc, char * argv[]) &#123;</span><br><span class="line">    printf(&quot;%x\n&quot;,test());</span><br><span class="line">    @autoreleasepool &#123;</span><br><span class="line">        return UIApplicationMain(argc, argv, nil, NSStringFromClass([AppDelegate class]));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>打断点在 <code>int cTemp</code> 处和 <code>return cTemp</code> 处，调试结果发现 <code>0</code> 溢出了：</p>
<p><img src="https://user-images.githubusercontent.com/25925248/165728027-c014f88f-9705-4007-9612-b990a9d189f3.jpg"></p>
<p>也可以此处通过获取的地址，然后在 <code>Debug-Debug Workflow-ViewMemory</code> 中输入地址（0x000000016d82f70c） 查看</p>
<p><img src="https://user-images.githubusercontent.com/25925248/165728053-0edd1b4c-c9c1-4d31-91b1-d89eaa9096eb.jpg"></p>
<h1 id="计算机中常见的数据宽度"><a href="#计算机中常见的数据宽度" class="headerlink" title="计算机中常见的数据宽度"></a>计算机中常见的数据宽度</h1><ul>
<li><code>位（bit）</code>：<code>1个位</code> 就是 <code>1个二进制</code>，即 <code>0或1</code></li>
<li><code>字节（byte）</code>：<code>1个字节</code> 由 <code>8个bit</code> 组成，内存中的最小单元byte</li>
<li><code>字（Word）</code>：<code>1个字</code> 由 <code>两个字节</code> 组成（16位），第2个字节分别称为 <code>高字节和低字节</code></li>
<li><code>双字（DoubleWork）</code>：1个双字由两个字组成（32位）</li>
</ul>
<p>那么计算机存储数据它分为 <code>有符号数和无符号数</code>，如下图所示：</p>
<p><img src="https://user-images.githubusercontent.com/25925248/165728076-10923f99-2ad9-4eb9-a5d6-b514baad4efd.jpg"></p>
<ul>
<li><p>无符号数，直接换算</p>
</li>
<li><p>有符号数，符号放在第1位，第1位是0即 <code>正数</code>，为1即 <code>负数</code>：</p>
<ul>
<li>正数：0  1  2  3  4  5  6  7</li>
<li>负数：F  E  D  C  B  A  9  8<br>-1 -2 -3 -4 -5 -6 -7 -8</li>
</ul>
</li>
</ul>
<h1 id="自定义进制符号"><a href="#自定义进制符号" class="headerlink" title="自定义进制符号"></a>自定义进制符号</h1><p><strong>【练习1】</strong></p>
<p>现在有10进制数10个符号分别为：2，9，1，7，6，5，4，8，3，A <code>逢10进1</code>，那么：</p>
<p>123 + 234 &#x3D; （AA6）</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">十进制:    0  1  2  3  4  5  6  7  8  9</span><br><span class="line">自定义:    2  9  1  7  6  5  4  8  3  A</span><br><span class="line">(十进制10)92 99 91 97 96 95 94 98 93 9A</span><br><span class="line">         12 19 11 17 16 15 14 18 13 1A</span><br><span class="line">         72 79 71 77 76 75 74 78 73 7A</span><br><span class="line">         62 69 61 67 66 65 64 68 63 6A</span><br><span class="line">         52 59 51 57 56 55 54 58 53 5A</span><br><span class="line">         42 49 41 47 46 45 44 48 43 4A</span><br><span class="line">         82 89 81 87 86 85 84 88 83 8A</span><br><span class="line">         32 39 31 37 36 35 34 38 33 3A</span><br><span class="line">         922</span><br><span class="line">         </span><br><span class="line">(00)2  (01)9  (02)1  (03)7  (04)6  (05)5  (06)4  (07)8  (08)3  (09)A</span><br><span class="line">(10)92 (11)99 (12)91 (13)97 (14)96 (15)95 (16)94 (17)98 (18)93 (19)9A</span><br><span class="line">(20)12 (21)19 (22)11 (23)17 (24)16 (25)15 (26)14 (27)18 (28)13 (29)1A</span><br><span class="line">(30)72 (31)79 (32)71 (33)77 (34)76 (35)75 (36)74 (37)78 (38)73 (39)7A</span><br><span class="line">(40)62 (41)69 (42)61 (43)67 (44)66 (45)65 (46)64 (47)68 (48)63 (49)6A</span><br><span class="line">(50)52 59 51 57 56 55 54 58 53 5A</span><br><span class="line">(60)42 49 41 47 46 45 44 48 43 4A</span><br><span class="line">(70)82 89 81 87 86 85 84 88 83 8A</span><br><span class="line">(80)32 39 31 37 36 35 34 38 33 3A</span><br><span class="line">(90)922</span><br></pre></td></tr></table></figure></div>

<p>刚才通过10进制运算可以转换，然后查表，但是如果是其他进制，就不能转换，要学会直接查表。</p>
<p><code>【练习2】</code></p>
<p>现在有9进制数9个符号，分别是：2，9，1，7，6，5,4，8，3 <code>逢9进1</code>，那么：123 + 234 &#x3D; （9926）</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">十进制:    0  1  2  3  4  5  6  7  8  </span><br><span class="line">自定义:    2  9  1  7  6  5  4  8  3  </span><br><span class="line">         92 99 91 97 96 95 94 98 93 </span><br><span class="line">         12 19 11 17 16 15 14 18 13 </span><br><span class="line">         72 79 71 77 76 75 74 78 73 </span><br><span class="line">         62 69 61 67 66 65 64 68 63 </span><br><span class="line">         52 59 51 57 56 55 54 58 53 </span><br><span class="line">         42 49 41 47 46 45 44 48 43 </span><br><span class="line">         82 89 81 87 86 85 84 88 83 </span><br><span class="line">         32 39 31 37 36 35 34 38 33 </span><br><span class="line">         922</span><br><span class="line">         </span><br><span class="line">(00)2  (01)9  (02)1  (03)7  (04)6  (05)5  (06)4  (07)8  (08)3  </span><br><span class="line">(10)92 (11)99 (12)91 (13)97 (14)96 (15)95 (16)94 (17)98 (18)93 </span><br><span class="line">(20)12 19 11 17 16 15 14 18 13 </span><br><span class="line">(30)72 79 71 77 76 75 74 78 73 </span><br><span class="line">(40)62 69 61 67 66 65 64 68 63 </span><br><span class="line">(50)52 59 51 57 56 55 54 58 53 </span><br><span class="line">(60)42 49 41 47 46 45 44 48 43 </span><br><span class="line">(70)82 89 81 87 86 85 84 88 83 </span><br><span class="line">(80)32 39 31 37 36 35 34 38 33 </span><br><span class="line">(90)922 ...</span><br></pre></td></tr></table></figure></div>

<h1 id="CPU和寄存器"><a href="#CPU和寄存器" class="headerlink" title="CPU和寄存器"></a>CPU和寄存器</h1><h2 id="内部部件之间是由-总线-连接，如下图所示："><a href="#内部部件之间是由-总线-连接，如下图所示：" class="headerlink" title="内部部件之间是由 总线 连接，如下图所示："></a>内部部件之间是由 <code>总线</code> 连接，如下图所示：</h2><p><img src="https://user-images.githubusercontent.com/25925248/165728280-ea4489e6-4f36-48d9-80fb-72c8285be4b8.jpg"></p>
<ul>
<li><p>CPU除了有 <code>控制器、运算器</code>，还有 <code>寄存器</code>，其中寄存器的作用就是 <code>运行数据的临时存储</code></p>
</li>
<li><p>CPU的运算速度是非常快的，为了性能 <code>CPU</code> 在内部 <code>开辟了一小块临时存储区域</code>，并在进行运算时先将数据从内存中 <code>复制</code> 到这一小块临时区域中，运算就在这一小块临时存储区进行，称这一小块临时存储区域为 <code>寄存器</code></p>
</li>
</ul>
<p><strong>【针对arm64的CPU来说】</strong></p>
<ul>
<li><p>如果寄存器以 <code>x</code> 开头，则表明是一个 <code>64位（84/8=8字节）的寄存器z</code>。</p>
</li>
<li><p>如果寄存器以 <code>w</code> 开头，则表明是一个 <code>32位（32/8=4字节） 的寄存器</code></p>
</li>
</ul>
<p>在系统中没有提供16位和32位的寄存器供访问和使用，其中 <code>32位的寄存器是64位寄存器的低32位的部分，并不是独立存在的</code></p>
<ul>
<li><p>对于程序来说，CPU中最主要的部件是 <code>寄存器</code>，可以通过改变寄存器的内容来实现对CPU的控制</p>
</li>
<li><p>不同CPU，寄存器的个数和结构是不相同的</p>
</li>
</ul>
<h2 id="查看寄存器"><a href="#查看寄存器" class="headerlink" title="查看寄存器"></a>查看寄存器</h2><p>默认情况下是不显示的，如下图：</p>
<p><img src="https://user-images.githubusercontent.com/25925248/165869573-4525b548-a1d3-4756-96cf-8895ed7cf905.jpg"></p>
<p>选中后，会出现三种寄存器，如下图：</p>
<p><img src="https://user-images.githubusercontent.com/25925248/165869628-55c98904-1a7b-45be-9b97-3b5dcb4a6819.jpg"></p>
<h2 id="浮点和向量寄存器"><a href="#浮点和向量寄存器" class="headerlink" title="浮点和向量寄存器"></a>浮点和向量寄存器</h2><p>因为浮点数的存储以及其运算的特殊性，CPU中专门提供 <code>浮点寄存器</code> 来处理浮点数</p>
<ul>
<li><p>浮点寄存器</p>
<ul>
<li><code>64位：D0-D31</code></li>
<li><code>32位：S0-S31</code></li>
</ul>
</li>
</ul>
<p>现在 <code>CPU支持向量运算</code>（向量运算在图形处理相关的领域用的非常多），为了支持向量计算，系统也提供了众多的向量寄存器</p>
<ul>
<li>向量寄存器 <code>128</code> 位：<code>V0 - V31</code></li>
</ul>
<h2 id="通用寄存器"><a href="#通用寄存器" class="headerlink" title="通用寄存器"></a>通用寄存器</h2><ul>
<li>通用寄存器也称为 <code>数据地址寄存器</code>。通常用来 <code>做数据计算的临时存储、累加、计数、地址保存等功能</code>。定义这些寄存器的作用主要是用于在CPU指令中保存操作数，在CPU中当做一些常规变量来使用</li>
</ul>
<p>ARM64中</p>
<ul>
<li><p>64位：x0-x30，XZR(寄存器)</p>
</li>
<li><p>32位：W0-W30,WZR(零寄存器)</p>
</li>
<li><p>arm64拥有 <code>32个64位的通用寄存器X0-X30</code>，以及XZR（零寄存器）。这些通用寄存器有时也有特定用途</p>
<ul>
<li>那么 <code>w0-w28</code> 这些32位的，因为64位CPU可以兼容32位，所以可以只使用64位寄存器的低32位</li>
<li>例如 w0就是x0的低32位</li>
</ul>
</li>
</ul>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">注意：了解过8086汇编的一定知道，还有一种特殊的寄存器段寄存器：CS、DS、SS 、ES。这四个寄存器主要用来保存这些段的基地址，是属于Intel架构的CPU的，在arm中并没有</span><br></pre></td></tr></table></figure></div>

<ul>
<li>通常，<code>CPU会先将内存中的数据存储到通用寄存器中，然后再对寄存器中的数据进行运算</code></li>
</ul>
<p><strong>例子：假设内存中有块红色内存空间的值是3，现在想把它的值加1，并将结果存储到蓝色内存空间，如何做呢？</strong></p>
<p><img src="https://user-images.githubusercontent.com/25925248/165869665-b5c60699-e697-4bf4-86c8-f44b04a2f110.jpg"></p>
<ul>
<li><p>CPU首先会将红色内存空间的值放到X0寄存器中：<code>mov X0，红色内存空间</code></p>
</li>
<li><p>然后让X0寄存器与1相加：<code>add X0,1</code></p>
</li>
<li><p>最后将值赋值给内存空间：<code>mov 蓝色内存空间，X0</code></p>
</li>
</ul>
<h2 id="PC寄存器"><a href="#PC寄存器" class="headerlink" title="PC寄存器"></a>PC寄存器</h2><ul>
<li><p>为 <code>指令指针寄存器</code>，它 <code>指示了CPU当前要读取指令的地址</code></p>
</li>
<li><p>在内存&#x2F;磁盘中，指令和数据没有任何区别，都是二进制信息</p>
</li>
<li><p>CPU在工作时，将有的信息看做指令，有的信息看做数据，为同样的信息赋予了不同的意义</p>
<ul>
<li>例如 1110 0000 0000 0011 0000 1000 1010 1010</li>
<li>可以当做数据 0xE003008AA</li>
<li>也可以当做指令 mov x0,x8</li>
</ul>
</li>
<li><p>CPU根据什么将内存中的信息看作指令呢？</p>
<ul>
<li>CPU将pc指向的内存单元的内容看作指令</li>
<li>如果内存中的某段内容曾经被CPU执行过，那么它所在的内存单元必然被pc指向过</li>
</ul>
</li>
</ul>
<h2 id="寄存器的案例分析"><a href="#寄存器的案例分析" class="headerlink" title="寄存器的案例分析"></a>寄存器的案例分析</h2><p>下面通过以下代码的例子来分析</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#import &lt;UIKit/UIKit.h&gt;</span><br><span class="line">#import &quot;AppDelegate.h&quot;</span><br><span class="line"></span><br><span class="line">int test()&#123;</span><br><span class="line">    int cTemp = 0x1FFFFFFFF;</span><br><span class="line">    return cTemp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(int argc, char * argv[]) &#123;</span><br><span class="line">    printf(&quot;%x\n&quot;,test());</span><br><span class="line">    @autoreleasepool &#123;</span><br><span class="line">        return UIApplicationMain(argc, argv, nil, NSStringFromClass([AppDelegate class]));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<ul>
<li>以下是demo的汇编图示</li>
</ul>
<p><img src="https://user-images.githubusercontent.com/25925248/165869709-c46f0372-2441-4bdf-a72e-a860054e5c21.jpg"></p>
<h2 id="pc寄存器调式"><a href="#pc寄存器调式" class="headerlink" title="pc寄存器调式"></a>pc寄存器调式</h2><ul>
<li>打印 <code>pc</code> 寄存器，现在是 <code>d613c</code></li>
</ul>
<p><img src="https://user-images.githubusercontent.com/25925248/165869741-6018575b-f46d-4707-89df-3a8b14cbc860.jpg"></p>
<ul>
<li>按住 <code>control+Setp into</code>，继续打印</li>
</ul>
<p><img src="https://user-images.githubusercontent.com/25925248/165869775-99c49a8f-ad8a-4cc5-a976-e5fae67e038a.jpg"></p>
<p><strong>除了读还可以写:</strong></p>
<ul>
<li><code>register write pc</code> 0x1025d6134</li>
<li><code>register read pc</code> 此时是读不出来的，因为断点断住了，如果step into ，此时断点断在哪里？</li>
</ul>
<h1 id="高速缓存"><a href="#高速缓存" class="headerlink" title="高速缓存"></a>高速缓存</h1><p>iPhoneX上搭载的arm处理器 <code>A11</code>，它的1级缓存的容量是64Kb，2级缓存的容量是8M</p>
<p>CPU每执行一条指令前都需要从内存中将指令读取到CPU内存并执行，而寄存器的运行速度相比内存读写要快很多，为了性能，CPU还集成了一个<code> 高速缓存区域</code>。当程序运行时，先将要执行的指令代码以及数据复制到高速缓存中（由操作系统完成），然后CPU直接从高速缓存依次读取指令来执行</p>
<h1 id="bl指令"><a href="#bl指令" class="headerlink" title="bl指令"></a>bl指令</h1><ul>
<li>CPU从何处执行指令，是由pc中的内容决定的，可以 <code>通过改变pc的内容来控制CPU执行目标指令</code></li>
<li>arm64提供了一个 <code>mov指令（传送指令）</code>，可以用来改变大部分寄存器的值，例如 mov x0,#10、mov x1,#20</li>
<li>但是，<code>mov指令并不能用于设置pc的值</code>，arm64没有提供这样的功能</li>
<li>arm64提供了另外的指令来 <code>修改pc的值</code>，这些指令统一称为 <code>转移指令</code>，其中最简单的是 <code>bl指令</code></li>
</ul>
<h2 id="bl指令练习"><a href="#bl指令练习" class="headerlink" title="bl指令练习"></a>bl指令练习</h2><p>现在有两段代码，假设程序先执行A，请写出指令执行顺序，最终寄存器x0的值是多少？</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">_A:</span><br><span class="line">    mov x0,#0xa0</span><br><span class="line">    mov x1,#0x00</span><br><span class="line">    add x1, x0, #0x14</span><br><span class="line">    mov x0,x1</span><br><span class="line">    bl _B</span><br><span class="line">    mov x0,#0x0</span><br><span class="line">    ret</span><br><span class="line"></span><br><span class="line">_B:</span><br><span class="line">    add x0, x0, #0x10</span><br><span class="line">    ret</span><br><span class="line">    </span><br><span class="line">// 分析流程</span><br><span class="line">流程：</span><br><span class="line">    mov x0,#0xa0            -- x0：0xa0</span><br><span class="line">    mov x1,#0x00            -- x1：0x00</span><br><span class="line">    add x1, x0, #0x14       -- x1：0xa0+0x14=0xb4</span><br><span class="line">    mov x0,x1               -- x0：0xb4</span><br><span class="line">    bl _B                   -- 跳转到B</span><br><span class="line">    add x0, x0, #0x10       -- x0：0xb4+0x10=0xc4</span><br><span class="line">    ret                     -- 回到bl跳转的下一行</span><br><span class="line">    mov x0,#0x0             -- x0：0x00</span><br><span class="line"></span><br><span class="line">// 结果</span><br><span class="line">x0的值：0x00</span><br></pre></td></tr></table></figure></div>

<h2 id="汇编代码验证"><a href="#汇编代码验证" class="headerlink" title="汇编代码验证"></a>汇编代码验证</h2><p>下面来写一段汇编代码验证（<code>command + n -&gt; empty -&gt; asm.s</code>）（汇编代码文件，会编译成源码）</p>
<p><img src="https://user-images.githubusercontent.com/25925248/165869808-cf91c5f3-44ea-4f0d-88e6-19b78eb280ee.jpg"></p>
<p><strong>如何执行呢？</strong></p>
<ul>
<li>在VC中定义函数的声明</li>
</ul>
<p><img src="https://user-images.githubusercontent.com/25925248/165869834-2365f962-dda1-44e5-adcf-1ed24107fa45.jpg"></p>
<ul>
<li>在 <code>mov x0,#0xa0</code> 执行处加断点，并执行程序，开启汇编调试</li>
</ul>
<p><img src="https://user-images.githubusercontent.com/25925248/165869839-291c742f-38bc-49c6-988f-d2a8c976b4fd.jpg"></p>
<ul>
<li>按住 <code>control+step into</code>，进入A的具体汇编</li>
</ul>
<p><img src="https://user-images.githubusercontent.com/25925248/165869877-ebc46aba-5209-4986-b023-f210d9b32e9f.jpg"></p>
<ul>
<li>继续 <code>control+step into</code>，到 <code>bl _B</code> 处</li>
</ul>
<p><img src="https://user-images.githubusercontent.com/25925248/165869882-6959cbeb-3d3f-4cf4-a8fa-9f4b3e1a9b7a.jpg"></p>
<ul>
<li>按住 <code>control+step into</code>，进入汇编代码B</li>
</ul>
<p><img src="https://user-images.githubusercontent.com/25925248/165869927-66fa0327-0254-43b5-a651-717ac52a3c1f.jpg"></p>
<ul>
<li>执行到A的ret</li>
</ul>
<p><img src="https://user-images.githubusercontent.com/25925248/165869968-6540f722-de14-4863-8cca-29f49c5c7c0c.jpg"></p>
<p><strong>疑问：</strong> 发现走到这里死循环了，这是为什么呢？预知后事如何，请看下一篇</p>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><ul>
<li><p>1、汇编概述</p>
<ul>
<li><p>使用 <code>助记符代替机器指令</code> 的一种编程语言</p>
</li>
<li><p>汇编和机器指令是 <code>一一对应</code> 的关系，拿到二进制就可以反汇编</p>
</li>
<li><p>由于汇编和CPU的指令集是对应的，所以汇编不具备移植性</p>
</li>
</ul>
</li>
<li><p>2、总线：是由一堆导线的集合</p>
<ul>
<li><p><code>地址总线</code>：其宽度决定了寻址能力</p>
</li>
<li><p><code>数据总线</code>：其宽度决定了CPU数据的吞吐量</p>
</li>
<li><p><code>控制总线</code>：其宽度决定了CPU对其他器件的控制能力</p>
</li>
</ul>
</li>
<li><p>3、进制</p>
<ul>
<li><p>任意进制都是由对应个数的符号组成的，符号可以自定义</p>
</li>
<li><p>2&#x2F;8&#x2F;16是相对完美的进制，他们之间的关系</p>
</li>
<li><p><code>3</code> 个二进制使用一个 <code>8进制</code> 标识</p>
</li>
<li><p><code>4</code> 个二进制使用一个 <code>16进制</code> 标识</p>
</li>
<li><p>两个16进制可以标识一个字节，即8位</p>
</li>
</ul>
</li>
<li><p>数量单位</p>
<p>  1024 &#x3D; 1k，1024k &#x3D; 1M，1024M &#x3D; 1G</p>
</li>
<li><p>容量单位</p>
<p>  1024 &#x3D; 1KB，1024KB &#x3D; 1MB，1024MB &#x3D; 1GB</p>
</li>
<li><p>数据的宽度</p>
<p>  计算机中的数据是有宽度的，超过了就会溢出</p>
</li>
<li><p>4、<code>寄存器</code>：CPU为了性能，自内部开辟了一小块临时存储区域</p>
<ul>
<li><p><code>浮点向量寄存器</code>：用于浮点数&#x2F;向量的存储及运算</p>
</li>
<li><p><code>异常状态寄存器</code></p>
</li>
<li><p><code>通用寄存器</code>：除了存放数据有时也有特殊的用途</p>
<ul>
<li><p>ARM64拥有32个64位的通用寄存器 <code>X0-X30</code> 以及XZR（零寄存器）</p>
</li>
<li><p>为了兼容32位，所以arm64位拥有 <code>W0-W28</code> 以及WZR 30个32位寄存器</p>
</li>
<li><p>32位寄存器并不是独立存在的，例如 W0是X0的低32位</p>
</li>
</ul>
</li>
<li><p><code>PC寄存器</code>：指令指针寄存器</p>
<ul>
<li><p>PC寄存器里面的值保存的就是CPU接下来需要执行的指令地址</p>
</li>
<li><p>改变PC的值可以改变程序的执行流程</p>
</li>
<li><p>mov指令不能更改PC寄存器的值，需要通过bl跳转指令来改变PC寄存器的值</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>

            </div>

            
                <div class="post-copyright-info">
                    <div class="article-copyright-info-container">
    <ul>
        <li>Post title：OC逆向01：初始汇编</li>
        <li>Post author：张建</li>
        <li>Create time：2022-04-20 15:50:53</li>
        <li>
            Post link：https://redefine.ohevan.com/2022/04/20/OC逆向/OC逆向01：初始汇编/
        </li>
        <li>
            Copyright Notice：All articles in this blog are licensed under <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">BY-NC-SA</a> unless stating additionally.
        </li>
    </ul>
</div>

                </div>
            

            
                <ul class="post-tags-box">
                    
                        <li class="tag-item">
                            <a href="/BboyZJ.github.io/tags/iOS-OC/">#iOS-OC</a>&nbsp;
                        </li>
                    
                </ul>
            

            

            
                <div class="article-nav">
                    
                        <div class="article-prev">
                            <a class="prev"
                            rel="prev"
                            href="/BboyZJ.github.io/2022/04/20/OC%E9%80%86%E5%90%91/OC%E9%80%86%E5%90%9102%EF%BC%9A%E5%87%BD%E6%95%B0%E6%9C%AC%E8%B4%A8%EF%BC%88%E4%B8%8A%EF%BC%89/"
                            >
                                <span class="left arrow-icon flex-center">
                                    <i class="fa-solid fa-chevron-left"></i>
                                </span>
                                <span class="title flex-center">
                                    <span class="post-nav-title-item">OC逆向02：函数本质（上）</span>
                                    <span class="post-nav-item">Prev posts</span>
                                </span>
                            </a>
                        </div>
                    
                    
                        <div class="article-next">
                            <a class="next"
                            rel="next"
                            href="/BboyZJ.github.io/2022/02/08/OC%E9%80%86%E5%90%91/OC%E9%80%86%E5%90%9111%EF%BC%9A%E4%BB%A3%E7%A0%81%E6%B3%A8%E5%85%A5%EF%BC%88%E4%B8%8B%EF%BC%89/"
                            >
                                <span class="title flex-center">
                                    <span class="post-nav-title-item">OC逆向11：代码注入（下）</span>
                                    <span class="post-nav-item">Next posts</span>
                                </span>
                                <span class="right arrow-icon flex-center">
                                    <i class="fa-solid fa-chevron-right"></i>
                                </span>
                            </a>
                        </div>
                    
                </div>
            


            
        </div>

        
            <div class="toc-content-container">
                <div class="post-toc-wrap">
    <div class="post-toc">
        <div class="toc-title">On this page</div>
        <div class="page-title">OC逆向01：初始汇编</div>
        <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%89%8D%E8%A8%80"><span class="nav-text">前言</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%9A%84%E5%8F%91%E5%B1%95"><span class="nav-text">汇编语言的发展</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9C%BA%E5%99%A8%E8%AF%AD%E8%A8%80"><span class="nav-text">机器语言</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%EF%BC%88assembly-language%EF%BC%89"><span class="nav-text">汇编语言（assembly language）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%AB%98%E7%BA%A7%E8%AF%AD%E8%A8%80%EF%BC%88High-level-programming-language%EF%BC%89"><span class="nav-text">高级语言（High-level programming language）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%9A%84%E7%89%B9%E7%82%B9"><span class="nav-text">汇编语言的特点</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%9A%84%E7%94%A8%E9%80%94%EF%BC%88%E5%93%A5-%E6%88%91%E5%AD%A6%E4%BA%86%E8%83%BD%E5%B9%B2%E5%95%A5%EF%BC%9F%EF%BC%89"><span class="nav-text">汇编语言的用途（哥 我学了能干啥？）</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B1%87%E7%BC%96%E5%AD%A6%E4%B9%A0%E7%9A%84%E7%9B%AE%E7%9A%84"><span class="nav-text">汇编学习的目的</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B1%87%E7%BC%96%E4%BD%BF%E7%94%A8%E7%9A%84%E5%9C%BA%E6%99%AF"><span class="nav-text">汇编使用的场景</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%9A%84%E7%A7%8D%E7%B1%BB"><span class="nav-text">汇编语言的种类</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%BF%85%E5%A4%87%E5%B8%B8%E8%AF%86"><span class="nav-text">必备常识</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%80%BB%E7%BA%BF"><span class="nav-text">总线</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%80%BB%E7%BA%BF%E7%9A%84%E5%88%86%E7%B1%BB"><span class="nav-text">总线的分类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9C%B0%E5%9D%80%E6%80%BB%E7%BA%BF"><span class="nav-text">地址总线</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E6%80%BB%E7%BA%BF"><span class="nav-text">数据总线</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8E%A7%E5%88%B6%E6%80%BB%E7%BA%BF"><span class="nav-text">控制总线</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%B0%8F%E7%BB%83%E4%B9%A0"><span class="nav-text">小练习</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%86%85%E5%AD%98"><span class="nav-text">内存</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%BF%9B%E5%88%B6"><span class="nav-text">进制</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%9B%E5%88%B6%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="nav-text">进制的定义</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%9B%E5%88%B6%E7%9A%84%E8%BF%90%E7%AE%97"><span class="nav-text">进制的运算</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%AB%E8%BF%9B%E5%88%B6"><span class="nav-text">八进制</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8C%E8%BF%9B%E5%88%B6"><span class="nav-text">二进制</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E7%9A%84%E5%AE%BD%E5%BA%A6"><span class="nav-text">数据的宽度</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%AD%E5%B8%B8%E8%A7%81%E7%9A%84%E6%95%B0%E6%8D%AE%E5%AE%BD%E5%BA%A6"><span class="nav-text">计算机中常见的数据宽度</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E8%BF%9B%E5%88%B6%E7%AC%A6%E5%8F%B7"><span class="nav-text">自定义进制符号</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#CPU%E5%92%8C%E5%AF%84%E5%AD%98%E5%99%A8"><span class="nav-text">CPU和寄存器</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%86%85%E9%83%A8%E9%83%A8%E4%BB%B6%E4%B9%8B%E9%97%B4%E6%98%AF%E7%94%B1-%E6%80%BB%E7%BA%BF-%E8%BF%9E%E6%8E%A5%EF%BC%8C%E5%A6%82%E4%B8%8B%E5%9B%BE%E6%89%80%E7%A4%BA%EF%BC%9A"><span class="nav-text">内部部件之间是由 总线 连接，如下图所示：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E5%AF%84%E5%AD%98%E5%99%A8"><span class="nav-text">查看寄存器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B5%AE%E7%82%B9%E5%92%8C%E5%90%91%E9%87%8F%E5%AF%84%E5%AD%98%E5%99%A8"><span class="nav-text">浮点和向量寄存器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%80%9A%E7%94%A8%E5%AF%84%E5%AD%98%E5%99%A8"><span class="nav-text">通用寄存器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PC%E5%AF%84%E5%AD%98%E5%99%A8"><span class="nav-text">PC寄存器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E6%A1%88%E4%BE%8B%E5%88%86%E6%9E%90"><span class="nav-text">寄存器的案例分析</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#pc%E5%AF%84%E5%AD%98%E5%99%A8%E8%B0%83%E5%BC%8F"><span class="nav-text">pc寄存器调式</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%AB%98%E9%80%9F%E7%BC%93%E5%AD%98"><span class="nav-text">高速缓存</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#bl%E6%8C%87%E4%BB%A4"><span class="nav-text">bl指令</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#bl%E6%8C%87%E4%BB%A4%E7%BB%83%E4%B9%A0"><span class="nav-text">bl指令练习</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B1%87%E7%BC%96%E4%BB%A3%E7%A0%81%E9%AA%8C%E8%AF%81"><span class="nav-text">汇编代码验证</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%80%BB%E7%BB%93"><span class="nav-text">总结</span></a></li></ol>

    </div>
</div>
            </div>
        
    </div>
</div>


                

            </div>



        </div>

        <div class="page-main-content-bottom">
            <footer class="footer">
    <div class="info-container">
        <div class="copyright-info">
            &copy;
            
              <span>2019</span>
              -
            
            2023&nbsp;&nbsp;<i class="fa-regular fa-computer-classic"></i>&nbsp;&nbsp;<a href="/">张建</a>
        </div>
        
            <script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <div class="website-count info-item">
                
                    <span id="busuanzi_container_site_uv" class="busuanzi_container_site_uv">
                        VISITOR COUNT&nbsp;<span id="busuanzi_value_site_uv" class="busuanzi_value_site_uv"></span>
                    </span>
                
                
                    <span id="busuanzi_container_site_pv" class="busuanzi_container_site_pv">
                        TOTAL PAGE VIEWS&nbsp;<span id="busuanzi_value_site_pv" class="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="theme-info info-item">
            <span class="powered-by-container">POWERED BY <?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg version="1.1" id="圖層_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="1rem" height="1rem" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><path fill="#0E83CD" d="M256.4,25.8l-200,115.5L56,371.5l199.6,114.7l200-115.5l0.4-230.2L256.4,25.8z M349,354.6l-18.4,10.7l-18.6-11V275H200v79.6l-18.4,10.7l-18.6-11v-197l18.5-10.6l18.5,10.8V237h112v-79.6l18.5-10.6l18.5,10.8V354.6z"/></svg><a target="_blank" href="https://hexo.io">Hexo</a></span>
                <br> 
            <span class="theme-version-container">THEME&nbsp;<a class="theme-version" target="_blank" href="https://github.com/EvanNotFound/hexo-theme-redefine">Redefine v1.1.5</a>
        </div>
        
        
        
            <div id="start_time_div" style="display:none">
                2019/8/17 11:45:14
            </div>
            <div>
                Blog up for <span class="odometer" id="runtime_days" ></span> days <span class="odometer" id="runtime_hours"></span> hrs <span class="odometer" id="runtime_minutes"></span> Min <span class="odometer" id="runtime_seconds"></span> Sec
            </div>
        
        
        
            <script async data-pjax>
                try {
                    function odometer_init() {
                    const elements = document.querySelectorAll('.odometer');
                    elements.forEach(el => {
                        new Odometer({
                            el,
                            format: '( ddd).dd',
                            duration: 200
                        });
                    });
                    }
                    odometer_init();
                } catch (error) {}
            </script>
        
        
        
    </div>  
</footer>
        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        
            <li class="right-bottom-tools page-aside-toggle">
                <i class="fa-regular fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="unfolded-tools-list">
        <li class="right-bottom-tools tool-font-adjust-plus flex-center">
            <i class="fa-regular fa-magnifying-glass-plus"></i>
        </li>

        <li class="right-bottom-tools tool-font-adjust-minus flex-center">
            <i class="fa-regular fa-magnifying-glass-minus"></i>
        </li>

        <li class="right-bottom-tools tool-expand-width flex-center">
            <i class="fa-regular fa-expand"></i>
        </li>

        <li class="right-bottom-tools tool-dark-light-toggle flex-center">
            <i class="fa-regular fa-moon"></i>
        </li>

        <!-- rss -->
        

        
            <li class="right-bottom-tools tool-scroll-to-top flex-center">
                <i class="fa-regular fa-arrow-up"></i>
            </li>
        

        <li class="right-bottom-tools tool-scroll-to-bottom flex-center">
            <i class="fa-regular fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="folded-tools-list">
        <li class="right-bottom-tools tool-toggle-show flex-center">
            <i class="fa-regular fa-cog fa-spin"></i>
        </li>
        
    </ul>
</div>

    </div>

    <div class="image-viewer-container">
    <img src="">
</div>


    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fa-solid fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="Search..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="popup-btn-close">
                <i class="fa-solid fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fa-solid fa-spinner fa-spin-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    


</main>




<script src="/BboyZJ.github.io/js/utils.js"></script>

<script src="/BboyZJ.github.io/js/main.js"></script>

<script src="/BboyZJ.github.io/js/layouts/menu-shrink.js"></script>

<script src="/BboyZJ.github.io/js/tools/go-top-bottom.js"></script>

<script src="/BboyZJ.github.io/js/tools/dark-light-toggle.js"></script>



    
<script src="/BboyZJ.github.io/js/tools/local-search.js"></script>




    
<script src="/BboyZJ.github.io/js/tools/code-block.js"></script>






    
<script src="/BboyZJ.github.io/js/tools/runtime.js"></script>

    
<script src="/BboyZJ.github.io/js/layouts/odometer.min.js"></script>

    
<link rel="stylesheet" href="/BboyZJ.github.io/assets/odometer-theme-minimal.css">





<div class="post-scripts pjax">
    
        
<script src="/BboyZJ.github.io/js/tools/toc-toggle.js"></script>

<script src="/BboyZJ.github.io/js/libs/anime.min.js"></script>

<script src="/BboyZJ.github.io/js/layouts/toc.js"></script>

<script src="/BboyZJ.github.io/js/plugins/tabs.js"></script>

    
    
</div>


    
<script src="/BboyZJ.github.io/js/libs/pjax.min.js"></script>

<script>
    window.addEventListener('DOMContentLoaded', () => {
        window.pjax = new Pjax({
            selectors: [
                'head title',
                '.page-container',
                '.pjax'
            ],
            history: true,
            debug: false,
            cacheBust: false,
            timeout: 0,
            analytics: false,
            currentUrlFullReload: false,
            scrollRestoration: false,
            // scrollTo: true,
        });

        document.addEventListener('pjax:send', () => {
            REDEFINE.utils.pjaxProgressBarStart();
        });

        document.addEventListener('pjax:complete', () => {
            REDEFINE.utils.pjaxProgressBarEnd();
            window.pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
            REDEFINE.refresh();
        });
    });
</script>




<script src="/BboyZJ.github.io/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
