<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="Hexo Theme Redefine">
    <meta name="description" content="我是小J，关注我">
    <meta name="author" content="张建">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-redefine.png">
    <!--- Seo Part-->
    
    <link rel="canonical" href="https://www.bboyzj.cn/2023/03/10/面试题/oc面试题：多线程/"/>
    <meta name="robots" content="index,follow">
    <meta name="googlebot" content="index,follow">
    <meta name="revisit-after" content="1 days">
    <meta property="og:type" content="article">
    <meta property="og:title" content="OC面试题：多线程">
    <meta property="og:description" content="我是小J，关注我">
    <meta property="og:url" content="https://www.bboyzj.cn2023/03/10/面试题/OC面试题：多线程/">
    <meta property="og:image" content="/images/redefine-logo.svg">
    <meta property="og:site_name" content="BboyZJ">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="OC面试题：多线程">
    <meta name="twitter:description" content="我是小J，关注我">
    <meta name="twitter:image" content="/images/redefine-logo.svg">
    <!--- Icon Part-->
    <link rel="icon" type="image/png" href="/images/redefine-logo.svg" sizes="192x192">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/redefine-logo.svg">
    <meta name="theme-color" content="#005080">
    <link rel="shortcut icon" href="/BboyZJ.github.io/images/redefine-logo.svg">
    
    <title>
        
            OC面试题：多线程 -
        
        BboyZJ
    </title>
    
<link rel="stylesheet" href="/BboyZJ.github.io/css/style.css">

    
<link rel="stylesheet" href="/BboyZJ.github.io/assets/fonts.css">

    
    
    
    
    <script id="hexo-configurations">
    let REDEFINE = window.REDEFINE || {};
    REDEFINE.hexo_config = {"hostname":"www.bboyzj.cn","root":"/BboyZJ.github.io/","language":"en","path":"search.xml"};
    REDEFINE.theme_config = {"toc":{"enable":true,"number":false,"expand_all":true,"init_open":true},"style":{"primary_color":"#005080","avatar":"/images/head_img.svg","favicon":"/images/redefine-logo.svg","article_img_align":"center","right_side_width":"210px","content_max_width":"1000px","nav_color":{"left":"#f78736","right":"#367df7","transparency":35},"hover":{"shadow":true,"scale":false},"first_screen":{"enable":true,"background_image":{"light":"https://evan.beee.top/img/wallhaven-wqery6-light.webp","dark":"https://evan.beee.top/img/wallhaven-wqery6-dark.webp"},"title_color":{"light":"#fff","dark":"#d1d1b6"},"description":"学无止境 学而不思则罔 思而不学则殆","custom_font":{"enable":false,"font_family":null,"font_url":null}},"scroll":{"progress_bar":{"enable":true},"percent":{"enable":false}}},"local_search":{"enable":true,"preload":true},"code_block":{"copy":true,"style":"mac","custom_font":{"enable":false,"font_family":null,"font_url":null}},"pjax":{"enable":true},"lazyload":{"enable":true},"version":"1.1.5","friend_links":{"columns":2},"home_article":{"date_format":"auto","category":{"enable":true,"limit":3},"tag":{"enable":true,"limit":3}},"plugins":{"aplayer":{"enable":false,"audio":[{"name":null,"artist":null,"url":null,"cover":null},{"name":null,"artist":null,"url":null,"cover":null}]}}};
    REDEFINE.language_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"};
  </script>
    
    
<link rel="stylesheet" href="/BboyZJ.github.io/fontawesome/fontawesome.min.css">

    
<link rel="stylesheet" href="/BboyZJ.github.io/fontawesome/brands.min.css">

    
<link rel="stylesheet" href="/BboyZJ.github.io/fontawesome/solid.min.css">

    
<link rel="stylesheet" href="/BboyZJ.github.io/fontawesome/regular.min.css">

    
    
    
<meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/BboyZJ.github.io/atom.xml" title="张建的博客" type="application/atom+xml">
</head>


<body>
<div class="progress-bar-container">
    
        <span class="scroll-progress-bar"></span>
    

    
        <span class="pjax-progress-bar"></span>
        <span class="pjax-progress-icon">
            <i class="fa-solid fa-circle-notch fa-spin"></i>
        </span>
    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            <header class="menu-wrapper">
    
    <div class="menu-content">
        <div class="left">
            
            <a class="logo-title" href="/">
                
                BboyZJ
                
            </a>
        </div>

        <div class="right">
            <!-- PC -->
            <div class="pc">
                <ul class="menu-list">
                    
                        
                            <li class="menu-item">
                                <!-- Menu -->
                                <a class="" 
                                    href="/BboyZJ.github.io/"  >
                                    
                                        
                                            <i class="fa-regular fa-house"></i>
                                        
                                        首页
                                    
                                </a>
                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            <li class="menu-item">
                                <!-- Menu -->
                                <a class="" 
                                    href="/BboyZJ.github.io/tags/"  >
                                    
                                        
                                            <i class="fa-regular fa-tags"></i>
                                        
                                        标签
                                    
                                </a>
                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            <li class="menu-item">
                                <!-- Menu -->
                                <a class="" 
                                    href="/BboyZJ.github.io/categories/"  >
                                    
                                        
                                            <i class="fa-regular fa-categories"></i>
                                        
                                        分类
                                    
                                </a>
                                <!-- Submenu -->
                                
                            </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="fa-solid fa-magnifying-glass"></i>
                        </li>
                    
                </ul>
            </div>
            <!-- Mobile -->
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fa-solid fa-magnifying-glass"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile drawer -->
    <div class="menu-drawer">
        <ul class="drawer-menu-list">
            
                
                    <li class="drawer-menu-item flex-center">
                        <a class="" 
                        href="/BboyZJ.github.io/"  >
                             
                                
                                    <i class="fa-regular fa-house"></i>
                                
                                首页
                            
                        </a>
                    </li>
                    <!-- Submenu -->
                    
            
                
                    <li class="drawer-menu-item flex-center">
                        <a class="" 
                        href="/BboyZJ.github.io/tags/"  >
                             
                                
                                    <i class="fa-regular fa-tags"></i>
                                
                                标签
                            
                        </a>
                    </li>
                    <!-- Submenu -->
                    
            
                
                    <li class="drawer-menu-item flex-center">
                        <a class="" 
                        href="/BboyZJ.github.io/categories/"  >
                             
                                
                                    <i class="fa-regular fa-categories"></i>
                                
                                分类
                            
                        </a>
                    </li>
                    <!-- Submenu -->
                    
            

        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="post-page-container">
        <div class="article-content-container">

            
            
                <div class="article-title">
                    <h1 class="article-title-regular">OC面试题：多线程</h1>
                </div>
            
                
            

            
                <div class="article-header">
                    <div class="avatar">
                        <img src="/BboyZJ.github.io/images/head_img.svg">
                    </div>
                    <div class="info">
                        <div class="author">
                            <span class="name">张建</span>
                            
                                <span class="author-label">lol</span>
                            
                        </div>
                        <div class="meta-info">
                            <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fa-regular fa-pen-fancy"></i>&nbsp;
        <span class="pc">2023-03-10 02:22:02</span>
        <span class="mobile">2023-03-10 02:22</span>
        <span class="hover-info">Created</span>
    </span>
    
        <span class="article-date article-meta-item">
            <i class="fa-regular fa-wrench"></i>&nbsp;
            <span class="pc">2023-03-10 05:52:44</span>
            <span class="mobile">2023-03-10 05:52</span>
            <span class="hover-info">Updated</span>
        </span>
    

    
        <span class="article-categories article-meta-item">
            <i class="fa-regular fa-folders"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/BboyZJ.github.io/categories/OC/">OC</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fa-regular fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/BboyZJ.github.io/tags/OC-%E9%9D%A2%E8%AF%95%E9%A2%98/">OC-面试题</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
    
    
        <span class="article-pv article-meta-item">
            <i class="fa-regular fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

                        </div>
                    </div>
                </div>
            

            <div class="article-content markdown-body">
                <h1 id="你了解线程么？谈谈你对进程和线程的理解？"><a href="#你了解线程么？谈谈你对进程和线程的理解？" class="headerlink" title="你了解线程么？谈谈你对进程和线程的理解？"></a>你了解线程么？谈谈你对进程和线程的理解？</h1><ul>
<li><p>进程是 <code>系统进行资源分配和调度的基本单位</code>，是操作系统结构的基础，进程是程序的实体。</p>
</li>
<li><p>线程是 <code>独立调度和分派的基本单位</code>，一条线程是进程中一个单一顺序的控制流。</p>
</li>
<li><p>同一进程中多条线程共享进程中的全部系统资源，一个进程有很多线程，一个进程可以并发多个线程。</p>
</li>
</ul>
<h1 id="iOS中，有哪些实现多线程的方式？"><a href="#iOS中，有哪些实现多线程的方式？" class="headerlink" title="iOS中，有哪些实现多线程的方式？"></a>iOS中，有哪些实现多线程的方式？</h1><blockquote>
<p>Pthread<br>   特点：C语言。跨平台，可移植，使用难度大。生命周期：自己管理。<br>NSThread<br>  特点：OC语言。面向对象，简单易用，可直接操作线程。生命周期：自己管理。<br>GCD<br>  特点：替代NSThread，充分利用多核的技术。生命周期：系统管理。<br>NSOperaton<br>  特点：基于GCD的封装。比GCD多了一些简单实用的功能。生命周期：系统管理。</p>
</blockquote>
<h1 id="请说一下多线程中-GCD-和-NSOperation-的区别？"><a href="#请说一下多线程中-GCD-和-NSOperation-的区别？" class="headerlink" title="请说一下多线程中 GCD 和 NSOperation 的区别？"></a>请说一下多线程中 GCD 和 NSOperation 的区别？</h1><p><strong>GCD：</strong></p>
<ul>
<li><p><code>提供了一次性执行的代码 dispatch_once</code> ，也就是说保证了一段代码在程序执行的过程中只被执行一次，并且是线程安全的！，实现的单例。</p>
</li>
<li><p>提供了 <code>延迟执行</code> 的简便方法 <code>dispatch_after</code>。</p>
</li>
<li><p>提供了 <code>调度组</code> 的使用，监听一些列异步方法之行结束之后，我们得到统一的通知</p>
<ul>
<li>dispatch_group</li>
<li>dispatch_group_async</li>
<li>dispatch_group_notify</li>
<li>dispatch_group_enter&#x2F;dispatch_group_leave</li>
</ul>
</li>
<li><p>提供了 <code>快速迭代的方式dispatch_apply</code>。按照指定的次序将制定的任务追加到指定的队列中，并等待全部队列执行结束！</p>
</li>
<li><p>提供了信号量 <code>dispatch_semaphore_t</code>，使用信号量可以实现安全的多线程！（加锁的一种方式）</p>
<ul>
<li>dispatch_semaphore_wait：信号量减1，阻塞当前线程</li>
<li>dispatch_semaphore_signal：信号量加1，释放当前线程</li>
</ul>
</li>
<li><p>提供了栅栏函数 <code>dispatch_barrier_async</code>，使用栅栏函数 <code>可以实现线程的多读单写</code>！</p>
</li>
</ul>
<p><strong>​​​​​​NSOpearion：</strong></p>
<ul>
<li><p>NSOperatoin是对GCD更高层次的封装</p>
</li>
<li><p>NSOperation可以设置两个操作之间的依赖关系。</p>
</li>
<li><p>NSOperation是个抽象类，开发中使用它的两个子类，NSBlockOperation&#x2F;NSInvocationOperation。</p>
</li>
<li><p>使用KVO，观察NSOperation的各种状态（isExecuted是否正在执行，isFinished是否结束，isCancled是否取消）。无法判断GCD的状态。</p>
</li>
<li><p>NSOperation可以设置操作的优先级。</p>
</li>
<li><p>NSoperation可以方便的取消一个操作的执行</p>
</li>
<li><p>可以重写NSOperation的main和start函数。</p>
</li>
</ul>
<h1 id="dispatch-once-是怎么保证线程安全的？"><a href="#dispatch-once-是怎么保证线程安全的？" class="headerlink" title="dispatch_once 是怎么保证线程安全的？"></a>dispatch_once 是怎么保证线程安全的？</h1><p>定义一个dispatch_once_t的静态变量，标识下面的diapatch_once的block是否执行过了，static修饰会默认将 <code>onceToken其初始化为0</code>，当值为0时才会 <code>执行block代码块</code> 里面的内容，此时onceToken不为0，当block执行完成，<code>底层会将oneceToken设置为-1</code>，以后再调用的话不会再走block代码块。</p>
<h1 id="dispatch-after延迟执行，执行时间是准确的吗？"><a href="#dispatch-after延迟执行，执行时间是准确的吗？" class="headerlink" title="dispatch_after延迟执行，执行时间是准确的吗？"></a>dispatch_after延迟执行，执行时间是准确的吗？</h1><p>dispatch_after的延迟执行时间不是准确的，因为dispatch_after是在指定时间之后将任务添加到主队列，并不是在指定时间之后开始执行处理！</p>
<h1 id="说说你对-dispatch-apply-的理解？"><a href="#说说你对-dispatch-apply-的理解？" class="headerlink" title="说说你对 dispatch_apply 的理解？"></a>说说你对 dispatch_apply 的理解？</h1><ul>
<li><p><code>dispatch_apply</code> 是GCD提供的一种 <code>快速迭代的函数</code>，按照指定的次数将指定的任务追加到指定的队列中，并等待全部任务结束。</p>
</li>
<li><p>如果用在串行队列，就和for循环一样，按顺序同步执行。</p>
</li>
<li><p>如果用在并发队列，追加到队列的任务会异步执行，并且等待全部任务结束！</p>
</li>
</ul>
<h1 id="说说你对dispatch-group的理解？"><a href="#说说你对dispatch-group的理解？" class="headerlink" title="说说你对dispatch_group的理解？"></a>说说你对dispatch_group的理解？</h1><ul>
<li><p>GCD提供的队列组，有两种使用方式 <code>dispatch_group_async</code> 和 <code>dispatch_group_enter/dispatch_group_leave</code>，使用过程中要根据任务类型选择使用哪种方式。</p>
</li>
<li><p>如果任务类型是同步任务：使用 <code>dispatch_group_async</code> 和 <code>dispatch_group_enter/dispatch_group_leave</code> 是同样的，可以实现相同的功能。</p>
</li>
<li><p>如果任务类型是异步任务：比如（AF）网络请求，使用dispatch_group_async不能等到所有异步任务执行完成，就会去执行dispatch_group_notify中的代码，使用dispatch_group_enter&#x2F;dispatch_group_leave可以实现执行完添加的异步任务，最后执行dispatch_group_notify中的代码</p>
</li>
<li><p>如果你要实现这样一个功能，请求网络A和B,然后根据A&#x2F;B返回的内容去刷新页面，如果使用dispatch_group，那么只能使用 <code>dispatch_grouo_enter/dispatch_grouo_leave</code>！！！使用dispatch_group_async是不能实现这个功能的！</p>
</li>
</ul>
<h1 id="说说你项目中的哪些功能使用了dispatch-semaphore-t，解决了什么问题？"><a href="#说说你项目中的哪些功能使用了dispatch-semaphore-t，解决了什么问题？" class="headerlink" title="说说你项目中的哪些功能使用了dispatch_semaphore_t，解决了什么问题？"></a>说说你项目中的哪些功能使用了dispatch_semaphore_t，解决了什么问题？</h1><p>使用信号量 <code>dispatch_semaphore_t</code> 可以实现 <code>异步任务的顺序执行</code>（也就是 <code>将异步任务转换为同步任务执行</code>）不要阻塞主线程！。也是多线程加锁的一种实现方式，保证线程安全。</p>
<ul>
<li><p>dispatch_semaphore_create(intptr_t value) 创建一个队列组，传入得值&gt;&#x3D;0，传入的值控制控制并发线程的数量！！！，如果我们传入2，那么就表示当前最多有两个线程同时执行。</p>
</li>
<li><p>dispatch_semaphore_signal(dispatch_semaphore_t dsema) 增加信号量，使信号量的值加1！</p>
</li>
<li><p>dispatch_semaphore_wait(dispatch_semaphore_t dsema, dispatch_time_t timeout) 等待当前线程，直到某个时间释放！！！</p>
</li>
</ul>
<h1 id="说说你对NSOperation-x2F-NSOperationQueue的使用和理解？"><a href="#说说你对NSOperation-x2F-NSOperationQueue的使用和理解？" class="headerlink" title="说说你对NSOperation&#x2F;NSOperationQueue的使用和理解？"></a>说说你对NSOperation&#x2F;NSOperationQueue的使用和理解？</h1><ol>
<li><p>NSOperation&#x2F;NSOperationQueue 是系统提供的一套多线程实现方案。实际上NSOperation&#x2F;NSOperationQueue是基于GCD更高层次的封装，完全面向对象，比GCD简单易用，代码可读性更高。</p>
</li>
<li><p>使用步骤：</p>
</li>
</ol>
<ul>
<li><p>创建操作，将操作封装到NSOperation对象中,执行的顺序取决于操作之间的相对优先级，操作执行结束的顺序，取决于操作本身！</p>
</li>
<li><p>创建队列 NSOperationQueue，将操作添加到队列中，一个队列中同时能并发执行的最大操作数由maxConcurrentOperationCount 决定，也就是一个操作队列中的操作是串行还是并发执行，由maxConcurrentOperationCount它决定！</p>
<ul>
<li>maxConcurrentOperationCount &#x3D; -1，默认，并发执行</li>
<li>maxConcurrentOperationCount &#x3D; 1，串行执行</li>
<li>maxConcurrentOperationCount &#x3D; 3，并发执行</li>
</ul>
</li>
<li><p>系统会将队列中的操作取出，在新线程中执行操作。</p>
</li>
<li><p>操作有几种状态</p>
<ul>
<li>op1.isReady; 是否准备就绪</li>
<li>op1.isExecuting; 是否正在执行</li>
<li>op1.isCancelled; 是否已经取消</li>
<li>op1.isFinished; 是否执行完成</li>
</ul>
</li>
<li><p>取消操作和队列</p>
<ul>
<li>[op1 cancel]; 取消操作，实际上是标记isCancelled状态</li>
<li>[queue cancelAllOperations]; 取消队列</li>
</ul>
</li>
</ul>
<h1 id="你是否在定义过NSOperation"><a href="#你是否在定义过NSOperation" class="headerlink" title="你是否在定义过NSOperation?"></a>你是否在定义过NSOperation?</h1><p>自定义NSOperation可以通过重写main或者start方法。重写main方法，不需要管理操作的状态属性isExecuting和isFinished。重写start方法需要管理操作的状态属性。</p>
<h1 id="【面试题】：如果在工作中有这样一个需求，使用AFNetworking请求A接口拿到A接口返回的id-a，用id-a作为参数去请求B接口，拿到B网络返回的name-b去查数据库，然后刷新页面。该怎么实现呢？"><a href="#【面试题】：如果在工作中有这样一个需求，使用AFNetworking请求A接口拿到A接口返回的id-a，用id-a作为参数去请求B接口，拿到B网络返回的name-b去查数据库，然后刷新页面。该怎么实现呢？" class="headerlink" title="【面试题】：如果在工作中有这样一个需求，使用AFNetworking请求A接口拿到A接口返回的id_a，用id_a作为参数去请求B接口，拿到B网络返回的name_b去查数据库，然后刷新页面。该怎么实现呢？"></a>【面试题】：如果在工作中有这样一个需求，使用AFNetworking请求A接口拿到A接口返回的id_a，用id_a作为参数去请求B接口，拿到B网络返回的name_b去查数据库，然后刷新页面。该怎么实现呢？</h1><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">@property (nonatomic, assign) dispatch_semaphore_t semaphore;</span><br><span class="line">@property (nonatomic, assign) dispatch_queue_t queue;</span><br><span class="line"> </span><br><span class="line">- (void)viewDidLoad&#123;</span><br><span class="line">    [super viewDidLoad];</span><br><span class="line">    //：测试</span><br><span class="line">    [self semaphoreSync];</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">- (void)semaphoreSync&#123;</span><br><span class="line">    // 创建信号量，传入参数0</span><br><span class="line">    self.semaphore = dispatch_semaphore_create(0);</span><br><span class="line">    // 创建队列，这里串行和并发并无区别</span><br><span class="line">    self.queue = dispatch_queue_create(&quot;queue&quot;, DISPATCH_QUEUE_SERIAL);</span><br><span class="line">    // 开启一个新线程，</span><br><span class="line">    // 这里之所以要创建一个新线程，而不是在当前（主线程）执行，是因为，AF的网络请求返回默认是在主线程中执行，如果我们在当前线程执行一下操作，会发生线程死锁的现象，</span><br><span class="line">    dispatch_async(self.queue, ^&#123;</span><br><span class="line">        // 任务A</span><br><span class="line">        int ida = [self requestA];</span><br><span class="line">        // 任务B</span><br><span class="line">        NSString *name = [self requestB:ida];</span><br><span class="line">        // 任务C</span><br><span class="line">        NSDictionary *res = [self queryDB:name];</span><br><span class="line">        NSLog(@&quot;%@&quot;, res);</span><br><span class="line">        dispatch_async(dispatch_get_main_queue(), ^&#123;</span><br><span class="line">            // 刷新页面</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">- (int)requestA&#123;</span><br><span class="line">    __block int ida = 0;</span><br><span class="line">    // AF</span><br><span class="line">    NSArray *paths = @[@(self.currentPage), @(pageNum), @(100)];</span><br><span class="line">    [[ZJNetWorkManager shareManager] GetWithUrlString:TC_API(GetCourseList) paths:paths successedBlock:^(BOOL successed, id  _Nonnull jsonObject) &#123;</span><br><span class="line">        ida = 1;</span><br><span class="line">        // 释放信号量，信号量加1，释放当前线程，然后执行return操作</span><br><span class="line">        dispatch_semaphore_signal(self.semaphore);</span><br><span class="line">    &#125; failedBlock:^(NSError * _Nonnull error) &#123;</span><br><span class="line">        dispatch_semaphore_signal(self.semaphore);</span><br><span class="line">    &#125;];</span><br><span class="line">    // 信号量减1，阻塞当前线程</span><br><span class="line">    dispatch_semaphore_wait(self.semaphore, DISPATCH_TIME_FOREVER);</span><br><span class="line"> </span><br><span class="line">    return ida;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">- (NSString *)requestB:(int)ida&#123;</span><br><span class="line">    __block NSString *name;</span><br><span class="line">    NSArray *paths = @[@(self.currentPage), @(pageNum), @(100), @(ida)];</span><br><span class="line">    [[ZJNetWorkManager shareManager] GetWithUrlString:TC_API(GetCourseList) paths:paths successedBlock:^(BOOL successed, id  _Nonnull jsonObject) &#123;</span><br><span class="line">        name = @&quot;你好👋&quot;;</span><br><span class="line">        dispatch_semaphore_signal(self.semaphore);</span><br><span class="line">    &#125; failedBlock:^(NSError * _Nonnull error) &#123;</span><br><span class="line">        dispatch_semaphore_signal(self.semaphore);</span><br><span class="line">    &#125;];</span><br><span class="line">        </span><br><span class="line">    dispatch_semaphore_wait(self.semaphore, DISPATCH_TIME_FOREVER);</span><br><span class="line"> </span><br><span class="line">    return name;</span><br><span class="line">&#125; </span><br><span class="line">- (NSDictionary *)queryDB:(NSString *)name&#123;</span><br><span class="line">    //查询数据库，返回结果</span><br><span class="line">    return @&#123;@&quot;name&quot;:@&quot;name&quot;&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<h1 id="【面试题】根据若⼲个url异步加载多张图⽚，然后在都下载完成后合成⼀张整图？GCD如何实现？"><a href="#【面试题】根据若⼲个url异步加载多张图⽚，然后在都下载完成后合成⼀张整图？GCD如何实现？" class="headerlink" title="【面试题】根据若⼲个url异步加载多张图⽚，然后在都下载完成后合成⼀张整图？GCD如何实现？"></a>【面试题】根据若⼲个url异步加载多张图⽚，然后在都下载完成后合成⼀张整图？GCD如何实现？</h1><p>dispatch_group_t + dispatch_group_enter + dispatch_group_leave + dispatch_group_notify</p>
<h1 id="【面试题】请实现一个多读单写的功能？"><a href="#【面试题】请实现一个多读单写的功能？" class="headerlink" title="【面试题】请实现一个多读单写的功能？"></a>【面试题】请实现一个多读单写的功能？</h1><p>我们可以用 <code>dispatch_barrier_async</code> 实现</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">@interface TKReadWhiteSafeDic() &#123;</span><br><span class="line">    // 定义一个并发队列</span><br><span class="line">    dispatch_queue_t concurrent_queue;</span><br><span class="line">    </span><br><span class="line">    // 用户数据中心, 可能多个线程需要数据访问</span><br><span class="line">    NSMutableDictionary *userCenterDic;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@end</span><br><span class="line"></span><br><span class="line">// 多读单写模型</span><br><span class="line">@implementation TKReadWhiteSafeDic</span><br><span class="line"></span><br><span class="line">- (id)init &#123;</span><br><span class="line">    self = [super init];</span><br><span class="line">    if (self) &#123;</span><br><span class="line">        // 通过宏定义 DISPATCH_QUEUE_CONCURRENT 创建一个并发队列</span><br><span class="line">        concurrent_queue = dispatch_queue_create(&quot;read_write_queue&quot;, DISPATCH_QUEUE_CONCURRENT);</span><br><span class="line">        // 创建数据容器</span><br><span class="line">        userCenterDic = [NSMutableDictionary dictionary];</span><br><span class="line">    &#125;</span><br><span class="line">    return self;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (id)objectForKey:(NSString *)key &#123;</span><br><span class="line">    __block id obj;</span><br><span class="line">    // 同步读取指定数据</span><br><span class="line">    dispatch_sync(concurrent_queue, ^&#123;</span><br><span class="line">        obj = [userCenterDic objectForKey:key];</span><br><span class="line">    &#125;);</span><br><span class="line">    return obj;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)setObject:(id)obj forKey:(NSString *)key &#123;</span><br><span class="line">    // 异步栅栏调用设置数据</span><br><span class="line">    dispatch_barrier_async(concurrent_queue, ^&#123;</span><br><span class="line">        [userCenterDic setObject:obj forKey:key];</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<ul>
<li>读操作为啥同步dispatch_sync</li>
</ul>
<blockquote>
<p>读的话通常都是直接想要结果，需要同步返回结果，如果是异步获取的话就根网络请求一样了。</p>
</blockquote>
<ul>
<li>写操作为啥异步dispatch_barrier_async</li>
</ul>
<blockquote>
<p>写操作是因为不需要等待写操作完成，所以用异步。</p>
</blockquote>

            </div>

            
                <div class="post-copyright-info">
                    <div class="article-copyright-info-container">
    <ul>
        <li>Post title：OC面试题：多线程</li>
        <li>Post author：张建</li>
        <li>Create time：2023-03-10 02:22:02</li>
        <li>
            Post link：https://redefine.ohevan.com/2023/03/10/面试题/OC面试题：多线程/
        </li>
        <li>
            Copyright Notice：All articles in this blog are licensed under <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">BY-NC-SA</a> unless stating additionally.
        </li>
    </ul>
</div>

                </div>
            

            
                <ul class="post-tags-box">
                    
                        <li class="tag-item">
                            <a href="/BboyZJ.github.io/tags/OC-%E9%9D%A2%E8%AF%95%E9%A2%98/">#OC-面试题</a>&nbsp;
                        </li>
                    
                </ul>
            

            

            
                <div class="article-nav">
                    
                        <div class="article-prev">
                            <a class="prev"
                            rel="prev"
                            href="/BboyZJ.github.io/2023/03/10/%E9%9D%A2%E8%AF%95%E9%A2%98/OC%E9%9D%A2%E8%AF%95%E9%A2%98%EF%BC%9A%E7%AE%97%E6%B3%95/"
                            >
                                <span class="left arrow-icon flex-center">
                                    <i class="fa-solid fa-chevron-left"></i>
                                </span>
                                <span class="title flex-center">
                                    <span class="post-nav-title-item">OC面试题：算法</span>
                                    <span class="post-nav-item">Prev posts</span>
                                </span>
                            </a>
                        </div>
                    
                    
                        <div class="article-next">
                            <a class="next"
                            rel="next"
                            href="/BboyZJ.github.io/2023/03/09/Swift%E8%AF%BE%E7%A8%8B/Swift%E5%AD%A6%E4%B9%A043%EF%BC%9A%E7%BB%A7%E6%89%BF/"
                            >
                                <span class="title flex-center">
                                    <span class="post-nav-title-item">Swift学习：继承</span>
                                    <span class="post-nav-item">Next posts</span>
                                </span>
                                <span class="right arrow-icon flex-center">
                                    <i class="fa-solid fa-chevron-right"></i>
                                </span>
                            </a>
                        </div>
                    
                </div>
            


            
        </div>

        
            <div class="toc-content-container">
                <div class="post-toc-wrap">
    <div class="post-toc">
        <div class="toc-title">On this page</div>
        <div class="page-title">OC面试题：多线程</div>
        <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BD%A0%E4%BA%86%E8%A7%A3%E7%BA%BF%E7%A8%8B%E4%B9%88%EF%BC%9F%E8%B0%88%E8%B0%88%E4%BD%A0%E5%AF%B9%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B%E7%9A%84%E7%90%86%E8%A7%A3%EF%BC%9F"><span class="nav-text">你了解线程么？谈谈你对进程和线程的理解？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#iOS%E4%B8%AD%EF%BC%8C%E6%9C%89%E5%93%AA%E4%BA%9B%E5%AE%9E%E7%8E%B0%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%9A%84%E6%96%B9%E5%BC%8F%EF%BC%9F"><span class="nav-text">iOS中，有哪些实现多线程的方式？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%AF%B7%E8%AF%B4%E4%B8%80%E4%B8%8B%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%AD-GCD-%E5%92%8C-NSOperation-%E7%9A%84%E5%8C%BA%E5%88%AB%EF%BC%9F"><span class="nav-text">请说一下多线程中 GCD 和 NSOperation 的区别？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#dispatch-once-%E6%98%AF%E6%80%8E%E4%B9%88%E4%BF%9D%E8%AF%81%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%E7%9A%84%EF%BC%9F"><span class="nav-text">dispatch_once 是怎么保证线程安全的？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#dispatch-after%E5%BB%B6%E8%BF%9F%E6%89%A7%E8%A1%8C%EF%BC%8C%E6%89%A7%E8%A1%8C%E6%97%B6%E9%97%B4%E6%98%AF%E5%87%86%E7%A1%AE%E7%9A%84%E5%90%97%EF%BC%9F"><span class="nav-text">dispatch_after延迟执行，执行时间是准确的吗？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%AF%B4%E8%AF%B4%E4%BD%A0%E5%AF%B9-dispatch-apply-%E7%9A%84%E7%90%86%E8%A7%A3%EF%BC%9F"><span class="nav-text">说说你对 dispatch_apply 的理解？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%AF%B4%E8%AF%B4%E4%BD%A0%E5%AF%B9dispatch-group%E7%9A%84%E7%90%86%E8%A7%A3%EF%BC%9F"><span class="nav-text">说说你对dispatch_group的理解？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%AF%B4%E8%AF%B4%E4%BD%A0%E9%A1%B9%E7%9B%AE%E4%B8%AD%E7%9A%84%E5%93%AA%E4%BA%9B%E5%8A%9F%E8%83%BD%E4%BD%BF%E7%94%A8%E4%BA%86dispatch-semaphore-t%EF%BC%8C%E8%A7%A3%E5%86%B3%E4%BA%86%E4%BB%80%E4%B9%88%E9%97%AE%E9%A2%98%EF%BC%9F"><span class="nav-text">说说你项目中的哪些功能使用了dispatch_semaphore_t，解决了什么问题？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%AF%B4%E8%AF%B4%E4%BD%A0%E5%AF%B9NSOperation-x2F-NSOperationQueue%E7%9A%84%E4%BD%BF%E7%94%A8%E5%92%8C%E7%90%86%E8%A7%A3%EF%BC%9F"><span class="nav-text">说说你对NSOperation&#x2F;NSOperationQueue的使用和理解？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BD%A0%E6%98%AF%E5%90%A6%E5%9C%A8%E5%AE%9A%E4%B9%89%E8%BF%87NSOperation"><span class="nav-text">你是否在定义过NSOperation?</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E3%80%90%E9%9D%A2%E8%AF%95%E9%A2%98%E3%80%91%EF%BC%9A%E5%A6%82%E6%9E%9C%E5%9C%A8%E5%B7%A5%E4%BD%9C%E4%B8%AD%E6%9C%89%E8%BF%99%E6%A0%B7%E4%B8%80%E4%B8%AA%E9%9C%80%E6%B1%82%EF%BC%8C%E4%BD%BF%E7%94%A8AFNetworking%E8%AF%B7%E6%B1%82A%E6%8E%A5%E5%8F%A3%E6%8B%BF%E5%88%B0A%E6%8E%A5%E5%8F%A3%E8%BF%94%E5%9B%9E%E7%9A%84id-a%EF%BC%8C%E7%94%A8id-a%E4%BD%9C%E4%B8%BA%E5%8F%82%E6%95%B0%E5%8E%BB%E8%AF%B7%E6%B1%82B%E6%8E%A5%E5%8F%A3%EF%BC%8C%E6%8B%BF%E5%88%B0B%E7%BD%91%E7%BB%9C%E8%BF%94%E5%9B%9E%E7%9A%84name-b%E5%8E%BB%E6%9F%A5%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%8C%E7%84%B6%E5%90%8E%E5%88%B7%E6%96%B0%E9%A1%B5%E9%9D%A2%E3%80%82%E8%AF%A5%E6%80%8E%E4%B9%88%E5%AE%9E%E7%8E%B0%E5%91%A2%EF%BC%9F"><span class="nav-text">【面试题】：如果在工作中有这样一个需求，使用AFNetworking请求A接口拿到A接口返回的id_a，用id_a作为参数去请求B接口，拿到B网络返回的name_b去查数据库，然后刷新页面。该怎么实现呢？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E3%80%90%E9%9D%A2%E8%AF%95%E9%A2%98%E3%80%91%E6%A0%B9%E6%8D%AE%E8%8B%A5%E2%BC%B2%E4%B8%AAurl%E5%BC%82%E6%AD%A5%E5%8A%A0%E8%BD%BD%E5%A4%9A%E5%BC%A0%E5%9B%BE%E2%BD%9A%EF%BC%8C%E7%84%B6%E5%90%8E%E5%9C%A8%E9%83%BD%E4%B8%8B%E8%BD%BD%E5%AE%8C%E6%88%90%E5%90%8E%E5%90%88%E6%88%90%E2%BC%80%E5%BC%A0%E6%95%B4%E5%9B%BE%EF%BC%9FGCD%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%EF%BC%9F"><span class="nav-text">【面试题】根据若⼲个url异步加载多张图⽚，然后在都下载完成后合成⼀张整图？GCD如何实现？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E3%80%90%E9%9D%A2%E8%AF%95%E9%A2%98%E3%80%91%E8%AF%B7%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E5%A4%9A%E8%AF%BB%E5%8D%95%E5%86%99%E7%9A%84%E5%8A%9F%E8%83%BD%EF%BC%9F"><span class="nav-text">【面试题】请实现一个多读单写的功能？</span></a></li></ol>

    </div>
</div>
            </div>
        
    </div>
</div>


                

            </div>



        </div>

        <div class="page-main-content-bottom">
            <footer class="footer">
    <div class="info-container">
        <div class="copyright-info">
            &copy;
            
              <span>2019</span>
              -
            
            2023&nbsp;&nbsp;<i class="fa-regular fa-computer-classic"></i>&nbsp;&nbsp;<a href="/">张建</a>
        </div>
        
            <script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <div class="website-count info-item">
                
                    <span id="busuanzi_container_site_uv" class="busuanzi_container_site_uv">
                        VISITOR COUNT&nbsp;<span id="busuanzi_value_site_uv" class="busuanzi_value_site_uv"></span>
                    </span>
                
                
                    <span id="busuanzi_container_site_pv" class="busuanzi_container_site_pv">
                        TOTAL PAGE VIEWS&nbsp;<span id="busuanzi_value_site_pv" class="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="theme-info info-item">
            <span class="powered-by-container">POWERED BY <?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg version="1.1" id="圖層_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="1rem" height="1rem" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><path fill="#0E83CD" d="M256.4,25.8l-200,115.5L56,371.5l199.6,114.7l200-115.5l0.4-230.2L256.4,25.8z M349,354.6l-18.4,10.7l-18.6-11V275H200v79.6l-18.4,10.7l-18.6-11v-197l18.5-10.6l18.5,10.8V237h112v-79.6l18.5-10.6l18.5,10.8V354.6z"/></svg><a target="_blank" href="https://hexo.io">Hexo</a></span>
                <br> 
            <span class="theme-version-container">THEME&nbsp;<a class="theme-version" target="_blank" href="https://github.com/EvanNotFound/hexo-theme-redefine">Redefine v1.1.5</a>
        </div>
        
        
        
            <div id="start_time_div" style="display:none">
                2019/8/17 11:45:14
            </div>
            <div>
                Blog up for <span class="odometer" id="runtime_days" ></span> days <span class="odometer" id="runtime_hours"></span> hrs <span class="odometer" id="runtime_minutes"></span> Min <span class="odometer" id="runtime_seconds"></span> Sec
            </div>
        
        
        
            <script async data-pjax>
                try {
                    function odometer_init() {
                    const elements = document.querySelectorAll('.odometer');
                    elements.forEach(el => {
                        new Odometer({
                            el,
                            format: '( ddd).dd',
                            duration: 200
                        });
                    });
                    }
                    odometer_init();
                } catch (error) {}
            </script>
        
        
        
    </div>  
</footer>
        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        
            <li class="right-bottom-tools page-aside-toggle">
                <i class="fa-regular fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="unfolded-tools-list">
        <li class="right-bottom-tools tool-font-adjust-plus flex-center">
            <i class="fa-regular fa-magnifying-glass-plus"></i>
        </li>

        <li class="right-bottom-tools tool-font-adjust-minus flex-center">
            <i class="fa-regular fa-magnifying-glass-minus"></i>
        </li>

        <li class="right-bottom-tools tool-expand-width flex-center">
            <i class="fa-regular fa-expand"></i>
        </li>

        <li class="right-bottom-tools tool-dark-light-toggle flex-center">
            <i class="fa-regular fa-moon"></i>
        </li>

        <!-- rss -->
        

        
            <li class="right-bottom-tools tool-scroll-to-top flex-center">
                <i class="fa-regular fa-arrow-up"></i>
            </li>
        

        <li class="right-bottom-tools tool-scroll-to-bottom flex-center">
            <i class="fa-regular fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="folded-tools-list">
        <li class="right-bottom-tools tool-toggle-show flex-center">
            <i class="fa-regular fa-cog fa-spin"></i>
        </li>
        
    </ul>
</div>

    </div>

    <div class="image-viewer-container">
    <img src="">
</div>


    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fa-solid fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="Search..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="popup-btn-close">
                <i class="fa-solid fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fa-solid fa-spinner fa-spin-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    


</main>




<script src="/BboyZJ.github.io/js/utils.js"></script>

<script src="/BboyZJ.github.io/js/main.js"></script>

<script src="/BboyZJ.github.io/js/layouts/menu-shrink.js"></script>

<script src="/BboyZJ.github.io/js/tools/go-top-bottom.js"></script>

<script src="/BboyZJ.github.io/js/tools/dark-light-toggle.js"></script>



    
<script src="/BboyZJ.github.io/js/tools/local-search.js"></script>




    
<script src="/BboyZJ.github.io/js/tools/code-block.js"></script>




    
<script src="/BboyZJ.github.io/js/layouts/lazyload.js"></script>




    
<script src="/BboyZJ.github.io/js/tools/runtime.js"></script>

    
<script src="/BboyZJ.github.io/js/layouts/odometer.min.js"></script>

    
<link rel="stylesheet" href="/BboyZJ.github.io/assets/odometer-theme-minimal.css">





<div class="post-scripts pjax">
    
        
<script src="/BboyZJ.github.io/js/tools/toc-toggle.js"></script>

<script src="/BboyZJ.github.io/js/libs/anime.min.js"></script>

<script src="/BboyZJ.github.io/js/layouts/toc.js"></script>

<script src="/BboyZJ.github.io/js/plugins/tabs.js"></script>

    
    
</div>


    
<script src="/BboyZJ.github.io/js/libs/pjax.min.js"></script>

<script>
    window.addEventListener('DOMContentLoaded', () => {
        window.pjax = new Pjax({
            selectors: [
                'head title',
                '.page-container',
                '.pjax'
            ],
            history: true,
            debug: false,
            cacheBust: false,
            timeout: 0,
            analytics: false,
            currentUrlFullReload: false,
            scrollRestoration: false,
            // scrollTo: true,
        });

        document.addEventListener('pjax:send', () => {
            REDEFINE.utils.pjaxProgressBarStart();
        });

        document.addEventListener('pjax:complete', () => {
            REDEFINE.utils.pjaxProgressBarEnd();
            window.pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
            REDEFINE.refresh();
        });
    });
</script>




<script src="/BboyZJ.github.io/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
